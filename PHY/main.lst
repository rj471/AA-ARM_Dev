   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 18, 4
  12              		.thumb
  13              		.file	"main.cpp"
  21              	.Ltext0:
  22              		.cfi_sections	.debug_frame
  23              		.section	.text._ZN13State_MachineD2Ev,"axG",%progbits,_ZN13State_MachineD2Ev,comdat
  24              		.align	2
  25              		.weak	_ZN13State_MachineD2Ev
  26              		.thumb
  27              		.thumb_func
  29              	_ZN13State_MachineD2Ev:
  30              	.LFB30:
  31              		.file 1 "..//utils/state_machine/state_machine.h"
   1:..//utils/state_machine/state_machine.h **** #ifndef __STATE_MACHINE_H__
   2:..//utils/state_machine/state_machine.h **** #define __STATE_MACHINE_H__
   3:..//utils/state_machine/state_machine.h **** 
   4:..//utils/state_machine/state_machine.h **** #define SM_START 1
   5:..//utils/state_machine/state_machine.h **** #define SM_STOP 0
   6:..//utils/state_machine/state_machine.h **** 
   7:..//utils/state_machine/state_machine.h **** #define SM_OPERATION_AUTO			0
   8:..//utils/state_machine/state_machine.h **** #define SM_OPERATION_MANUAL			1
   9:..//utils/state_machine/state_machine.h **** 
  10:..//utils/state_machine/state_machine.h **** /*Return codes for state machines...*/
  11:..//utils/state_machine/state_machine.h **** enum SM_RET{
  12:..//utils/state_machine/state_machine.h **** 	SM_RESET = 0,
  13:..//utils/state_machine/state_machine.h **** 	SM_STARTED = 1,
  14:..//utils/state_machine/state_machine.h **** 	SM_DONE = 2,
  15:..//utils/state_machine/state_machine.h **** 	SM_ERROR = -1,
  16:..//utils/state_machine/state_machine.h **** 	SM_ABORTED = 3,
  17:..//utils/state_machine/state_machine.h **** };
  18:..//utils/state_machine/state_machine.h **** 
  19:..//utils/state_machine/state_machine.h **** #define SM_STATE_RESET	0
  20:..//utils/state_machine/state_machine.h **** 
  21:..//utils/state_machine/state_machine.h **** class State_Machine{
  22:..//utils/state_machine/state_machine.h **** 	public:
  23:..//utils/state_machine/state_machine.h **** 	volatile int state;
  24:..//utils/state_machine/state_machine.h **** 	volatile int flag_start;
  25:..//utils/state_machine/state_machine.h **** 	
  26:..//utils/state_machine/state_machine.h **** 	// volatile int pause_cur_state;
  27:..//utils/state_machine/state_machine.h **** 	// volatile int pause_next_state;
  28:..//utils/state_machine/state_machine.h **** 	volatile int manual_flag;
  29:..//utils/state_machine/state_machine.h **** 	volatile int paused;
  30:..//utils/state_machine/state_machine.h **** 	
  31:..//utils/state_machine/state_machine.h **** 	State_Machine(void);
  32:..//utils/state_machine/state_machine.h **** 	State_Machine (int s); // consructor which calls the state machine..
  33:..//utils/state_machine/state_machine.h **** 	int next_state(void);    	// incremen state by 1
  34:..//utils/state_machine/state_machine.h **** 	int next_state(int s);  // set nex state to value state..
  35:..//utils/state_machine/state_machine.h **** 	
  36:..//utils/state_machine/state_machine.h **** 	// virtual functions return -1
  37:..//utils/state_machine/state_machine.h **** 	virtual int update(void);
  38:..//utils/state_machine/state_machine.h **** 	
  39:..//utils/state_machine/state_machine.h **** 	// mealy machine with input...
  40:..//utils/state_machine/state_machine.h **** 	virtual int update(int);
  41:..//utils/state_machine/state_machine.h **** 	
  42:..//utils/state_machine/state_machine.h **** 	virtual int reset(void);
  43:..//utils/state_machine/state_machine.h **** 	
  44:..//utils/state_machine/state_machine.h **** 	// this function returns 1 if state machine is started...
  45:..//utils/state_machine/state_machine.h **** 	virtual int SM_started();
  46:..//utils/state_machine/state_machine.h **** 	
  47:..//utils/state_machine/state_machine.h **** 	virtual int SM_start();
  48:..//utils/state_machine/state_machine.h **** 	virtual int SM_stop();
  49:..//utils/state_machine/state_machine.h **** 	
  50:..//utils/state_machine/state_machine.h **** 	// This will pause the state machine if manual is enabled..
  51:..//utils/state_machine/state_machine.h **** 	// it will return if the machine has paused or not..
  52:..//utils/state_machine/state_machine.h **** 	//virtual int SM_pause(void);
  53:..//utils/state_machine/state_machine.h **** 	
  54:..//utils/state_machine/state_machine.h **** 	virtual int SM_pause(int input);
  55:..//utils/state_machine/state_machine.h **** 	
  56:..//utils/state_machine/state_machine.h **** 	// this should be called in the pause state of the state machine...
  57:..//utils/state_machine/state_machine.h **** 	// this will take an input and if input is 1 it will release from pause to the next state...
  58:..//utils/state_machine/state_machine.h **** 	//virtual int SM_pause_update(int input);
  59:..//utils/state_machine/state_machine.h **** 	
  60:..//utils/state_machine/state_machine.h **** 	
  61:..//utils/state_machine/state_machine.h **** 	virtual ~State_Machine(void){};
  32              		.loc 1 61 0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 8
  35              		@ frame_needed = 1, uses_anonymous_args = 0
  36 0000 80B5     		push	{r7, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39 0002 82B0     		sub	sp, sp, #8
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 16
  42 0004 00AF     		add	r7, sp, #0
  43              		.cfi_offset 14, -4
  44              		.cfi_offset 7, -8
  45              	.LCFI2:
  46              		.cfi_def_cfa_register 7
  47 0006 7860     		str	r0, [r7, #4]
  48              		.loc 1 61 0
  49 0008 7B68     		ldr	r3, [r7, #4]
  50 000a 094A     		ldr	r2, .L5
  51 000c 1A60     		str	r2, [r3, #0]
  52 000e 4FF00003 		mov	r3, #0
  53 0012 DBB2     		uxtb	r3, r3
  54 0014 002B     		cmp	r3, #0
  55 0016 05D0     		beq	.L3
  56 0018 7868     		ldr	r0, [r7, #4]
  57 001a 40F20003 		movw	r3, #:lower16:_ZdlPv
  58 001e C0F20003 		movt	r3, #:upper16:_ZdlPv
  59 0022 9847     		blx	r3
  60              	.L3:
  61 0024 7B68     		ldr	r3, [r7, #4]
  62 0026 1846     		mov	r0, r3
  63 0028 07F10807 		add	r7, r7, #8
  64 002c BD46     		mov	sp, r7
  65 002e 80BD     		pop	{r7, pc}
  66              	.L6:
  67              		.align	2
  68              	.L5:
  69 0030 08000000 		.word	_ZTV13State_Machine+8
  70              		.cfi_endproc
  71              	.LFE30:
  73              		.global	delay_timer_32
  74              		.section	.bss.delay_timer_32,"aw",%nobits
  75              		.align	2
  78              	delay_timer_32:
  79 0000 00000000 		.space	4
  80              		.global	modbus_retVal
  81              		.section	.bss.modbus_retVal,"aw",%nobits
  82              		.align	2
  85              	modbus_retVal:
  86 0000 00000000 		.space	4
  87              		.global	holdingRegs
  88              		.section	.bss.holdingRegs,"aw",%nobits
  89              		.align	2
  92              	holdingRegs:
  93 0000 00000000 		.space	1648
  93      00000000 
  93      00000000 
  93      00000000 
  93      00000000 
  94              		.global	holdingRegs_prev
  95              		.section	.bss.holdingRegs_prev,"aw",%nobits
  96              		.align	2
  99              	holdingRegs_prev:
 100 0000 00000000 		.space	1648
 100      00000000 
 100      00000000 
 100      00000000 
 100      00000000 
 101              		.global	slave_id_select
 102              		.section	.bss.slave_id_select,"aw",%nobits
 103              		.align	2
 106              	slave_id_select:
 107 0000 00000000 		.space	4
 108              		.global	baud_rate_select
 109              		.section	.bss.baud_rate_select,"aw",%nobits
 110              		.align	2
 113              	baud_rate_select:
 114 0000 00000000 		.space	4
 115              		.global	parity_bit
 116              		.section	.bss.parity_bit,"aw",%nobits
 117              		.align	2
 120              	parity_bit:
 121 0000 00000000 		.space	4
 122              		.global	stop_bit
 123              		.section	.data.stop_bit,"aw",%progbits
 124              		.align	2
 127              	stop_bit:
 128 0000 01000000 		.word	1
 129              		.global	input_rise_debounce_time
 130              		.section	.data.input_rise_debounce_time,"aw",%progbits
 131              		.align	2
 134              	input_rise_debounce_time:
 135 0000 14000000 		.word	20
 136              		.global	input_fall_debounce_time
 137              		.section	.data.input_fall_debounce_time,"aw",%progbits
 138              		.align	2
 141              	input_fall_debounce_time:
 142 0000 14000000 		.word	20
 143              		.global	baud_value
 144              		.section	.bss.baud_value,"aw",%nobits
 145              		.align	2
 148              	baud_value:
 149 0000 00000000 		.space	4
 150              		.global	flash_write_allowed
 151              		.section	.bss.flash_write_allowed,"aw",%nobits
 152              		.align	2
 155              	flash_write_allowed:
 156 0000 00000000 		.space	4
 157              		.global	flash_write_now
 158              		.section	.bss.flash_write_now,"aw",%nobits
 159              		.align	2
 162              	flash_write_now:
 163 0000 00000000 		.space	4
 164              		.global	fw_major_version
 165              		.section	.bss.fw_major_version,"aw",%nobits
 168              	fw_major_version:
 169 0000 00       		.space	1
 170              		.global	fw_minor_version
 171              		.section	.bss.fw_minor_version,"aw",%nobits
 174              	fw_minor_version:
 175 0000 00       		.space	1
 176              		.global	sm_operation
 177              		.section	.bss.sm_operation,"aw",%nobits
 178              		.align	2
 181              	sm_operation:
 182 0000 00000000 		.space	88
 182      00000000 
 182      00000000 
 182      00000000 
 182      00000000 
 183              		.section	.rodata
 184              		.align	2
 185              	.LC0:
 186 0000 0A504143 		.ascii	"\012PACMAC SystemCoreClock = %d Hz\012\000"
 186      4D414320 
 186      53797374 
 186      656D436F 
 186      7265436C 
 187 0021 000000   		.align	2
 188              	.LC1:
 189 0024 0A726561 		.ascii	"\012read onfig data\000"
 189      64206F6E 
 189      66696720 
 189      64617461 
 189      00
 190 0035 000000   		.align	2
 191              	.LC2:
 192 0038 0A6F7574 		.ascii	"\012out of config read %d\012\000"
 192      206F6620 
 192      636F6E66 
 192      69672072 
 192      65616420 
 193              		.align	2
 194              	.LC3:
 195 0050 0A776869 		.ascii	"\012whil is starting 1\000"
 195      6C206973 
 195      20737461 
 195      7274696E 
 195      67203100 
 196              		.section	.text.main,"ax",%progbits
 197              		.align	2
 198              		.global	main
 199              		.thumb
 200              		.thumb_func
 202              	main:
 203              	.LFB33:
 204              		.file 2 "..//PHY/main.cpp"
   1:..//PHY/main.cpp **** //!
   2:..//PHY/main.cpp **** /*!
   3:..//PHY/main.cpp ****  *Main file 
   4:..//PHY/main.cpp ****  * All the various function are called inside the while loop of the main fucntion
   5:..//PHY/main.cpp ****  * The various functions are polled using the Timer at regualr preset intervals set at the beginnin
   6:..//PHY/main.cpp ****  */
   7:..//PHY/main.cpp **** 
   8:..//PHY/main.cpp **** #include <stdio.h>
   9:..//PHY/main.cpp **** #include <string.h>
  10:..//PHY/main.cpp **** #include <stdarg.h>
  11:..//PHY/main.cpp **** #include <math.h>
  12:..//PHY/main.cpp **** #include <stdlib.h>
  13:..//PHY/main.cpp **** 
  14:..//PHY/main.cpp **** #include "LPC17xx.h"
  15:..//PHY/main.cpp **** #include "ring.h"
  16:..//PHY/main.cpp **** #include "syscalls.h"
  17:..//PHY/main.cpp **** #include "global.h"
  18:..//PHY/main.cpp **** #include "config.h"
  19:..//PHY/main.cpp **** #include "delay_timer.h"
  20:..//PHY/main.cpp **** 
  21:..//PHY/main.cpp **** #include "SimpleModbusSlave_1769.h"
  22:..//PHY/main.cpp **** #include "state_machine.h"
  23:..//PHY/main.cpp **** #include "config_data.h"
  24:..//PHY/main.cpp **** 
  25:..//PHY/main.cpp **** #include "SM_Operation.h"
  26:..//PHY/main.cpp **** 
  27:..//PHY/main.cpp **** extern "C" {	
  28:..//PHY/main.cpp **** 	#include "lpc17xx_libcfg.h"
  29:..//PHY/main.cpp **** 	#include "lpc17xx_ssp.h"
  30:..//PHY/main.cpp **** 	#include "lpc17xx_spi.h"
  31:..//PHY/main.cpp **** 	#include "lpc17xx_rtc.h"
  32:..//PHY/main.cpp **** 	#include "lpc17xx_clkpwr.h"
  33:..//PHY/main.cpp **** 	#include "lpc17xx_gpio.h"
  34:..//PHY/main.cpp **** 	#include "lpc17xx_uart.h"
  35:..//PHY/main.cpp **** 	#include "lpc17xx_pinsel.h"
  36:..//PHY/main.cpp **** 	#include "debug_frmwrk.h"	
  37:..//PHY/main.cpp **** 	#include "lpc17xx_nvic.h"
  38:..//PHY/main.cpp **** 	#include "lpc17xx_emac.h"
  39:..//PHY/main.cpp **** 
  40:..//PHY/main.cpp **** 	#include "timer.h"
  41:..//PHY/main.cpp **** 	#include "interrupts.h"
  42:..//PHY/main.cpp **** 	#include "input_output.h"
  43:..//PHY/main.cpp **** 	#include "i2c.h"
  44:..//PHY/main.cpp **** 	#include "i2c_eeprom.h"
  45:..//PHY/main.cpp **** 	#include "multi-steppers.h"
  46:..//PHY/main.cpp **** 	#include "usbSerial.h"
  47:..//PHY/main.cpp **** 	#include "iap_driver.h"
  48:..//PHY/main.cpp **** }
  49:..//PHY/main.cpp **** 
  50:..//PHY/main.cpp **** /*!
  51:..//PHY/main.cpp ****  *Main file!
  52:..//PHY/main.cpp ****  *
  53:..//PHY/main.cpp **** */
  54:..//PHY/main.cpp **** /**#########################################################################################*/	
  55:..//PHY/main.cpp **** extern "C"{	
  56:..//PHY/main.cpp **** 	uint32_t delay_timer_32 = 0; 
  57:..//PHY/main.cpp **** // uint8_t system_io_update();
  58:..//PHY/main.cpp **** }
  59:..//PHY/main.cpp **** /**#########################################################################################*/
  60:..//PHY/main.cpp **** int modbus_exception_handler(int modbus_ret);
  61:..//PHY/main.cpp **** int apply_modbus_values(int modbus_cnt);
  62:..//PHY/main.cpp **** int set_holding_registers_values(int modbus_cnt);
  63:..//PHY/main.cpp **** int start_state_machine(int num);
  64:..//PHY/main.cpp **** int stop_state_machine(int num);
  65:..//PHY/main.cpp **** void execute_eeprom_write(int flash_write);
  66:..//PHY/main.cpp **** int modbus_retVal = 0;
  67:..//PHY/main.cpp **** 
  68:..//PHY/main.cpp **** /**#########################################################################################*/
  69:..//PHY/main.cpp **** 
  70:..//PHY/main.cpp **** /**#########################################################################################*/
  71:..//PHY/main.cpp **** 
  72:..//PHY/main.cpp **** unsigned int holdingRegs[HOLDING_REGS_SIZE]; // function 3 and 16 register array
  73:..//PHY/main.cpp **** unsigned int holdingRegs_prev[HOLDING_REGS_SIZE]; // function 3 and 16 register array
  74:..//PHY/main.cpp **** 
  75:..//PHY/main.cpp **** int slave_id_select;
  76:..//PHY/main.cpp **** 
  77:..//PHY/main.cpp **** int baud_rate_select;
  78:..//PHY/main.cpp **** int parity_bit = 0;
  79:..//PHY/main.cpp **** int stop_bit = 1;
  80:..//PHY/main.cpp **** 
  81:..//PHY/main.cpp **** int input_rise_debounce_time = 20;
  82:..//PHY/main.cpp **** int input_fall_debounce_time = 20;
  83:..//PHY/main.cpp **** 
  84:..//PHY/main.cpp **** uint32_t baud_value=0;
  85:..//PHY/main.cpp **** 
  86:..//PHY/main.cpp **** int flash_write_allowed = 0;
  87:..//PHY/main.cpp **** int flash_write_now = 0;
  88:..//PHY/main.cpp **** 
  89:..//PHY/main.cpp **** uint8_t fw_major_version;
  90:..//PHY/main.cpp **** uint8_t fw_minor_version;
  91:..//PHY/main.cpp ****  
  92:..//PHY/main.cpp **** SM_OPERATION sm_operation;
  93:..//PHY/main.cpp **** 
  94:..//PHY/main.cpp **** int main(void) {
 205              		.loc 2 94 0
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 40
 208              		@ frame_needed = 1, uses_anonymous_args = 0
 209 0000 80B5     		push	{r7, lr}
 210              	.LCFI3:
 211              		.cfi_def_cfa_offset 8
 212 0002 8CB0     		sub	sp, sp, #48
 213              	.LCFI4:
 214              		.cfi_def_cfa_offset 56
 215 0004 02AF     		add	r7, sp, #8
 216              		.cfi_offset 14, -4
 217              		.cfi_offset 7, -8
 218              	.LCFI5:
 219              		.cfi_def_cfa 7, 48
 220              	.LBB2:
  95:..//PHY/main.cpp **** 	uint32_t i,modbus_count=0;
 221              		.loc 2 95 0
 222 0006 4FF00003 		mov	r3, #0
 223 000a BB61     		str	r3, [r7, #24]
  96:..//PHY/main.cpp **** 	int toggle = 0;
 224              		.loc 2 96 0
 225 000c 4FF00003 		mov	r3, #0
 226 0010 FB61     		str	r3, [r7, #28]
  97:..//PHY/main.cpp **** 
  98:..//PHY/main.cpp **** 	// memcpy(TCP_TX_BUF,transfer_accel_table,sizeof(transfer_accel_table));
  99:..//PHY/main.cpp **** 
 100:..//PHY/main.cpp **** 	// printf("\n hi=%d",sizeof(transfer_accel_table));
 101:..//PHY/main.cpp **** 	/* Initialize debug via UART0
 102:..//PHY/main.cpp **** 		* – 115200bps
 103:..//PHY/main.cpp **** 		* – 8 data bit
 104:..//PHY/main.cpp **** 		* – No parity
 105:..//PHY/main.cpp **** 		* – 1 stop bit
 106:..//PHY/main.cpp **** 		* – No flow control
 107:..//PHY/main.cpp **** 	*/
 108:..//PHY/main.cpp **** 	// sprintf(data_string,"20.0,20.0,40.0,10.0,50.0,60.0,70.0,80.0");
 109:..//PHY/main.cpp **** 	debug_frmwrk_init();
 227              		.loc 2 109 0
 228 0012 40F20003 		movw	r3, #:lower16:debug_frmwrk_init
 229 0016 C0F20003 		movt	r3, #:upper16:debug_frmwrk_init
 230 001a 9847     		blx	r3
 110:..//PHY/main.cpp **** 	
 111:..//PHY/main.cpp **** 	
 112:..//PHY/main.cpp **** 	LPC_SC->PCONP |= ( 1 << 15 ); // power up GPIO		
 231              		.loc 2 112 0
 232 001c 4CF20003 		movw	r3, #:lower16:1074774016
 233 0020 C4F20F03 		movt	r3, #:upper16:1074774016
 234 0024 4CF20002 		movw	r2, #:lower16:1074774016
 235 0028 C4F20F02 		movt	r2, #:upper16:1074774016
 236 002c D2F8C420 		ldr	r2, [r2, #196]
 237 0030 42F40042 		orr	r2, r2, #32768
 238 0034 C3F8C420 		str	r2, [r3, #196]
 113:..//PHY/main.cpp **** 	printf("\nPACMAC SystemCoreClock = %d Hz\n", SystemCoreClock);
 239              		.loc 2 113 0
 240 0038 40F20003 		movw	r3, #:lower16:SystemCoreClock
 241 003c C0F20003 		movt	r3, #:upper16:SystemCoreClock
 242 0040 1B68     		ldr	r3, [r3, #0]
 243 0042 40F20000 		movw	r0, #:lower16:.LC0
 244 0046 C0F20000 		movt	r0, #:upper16:.LC0
 245 004a 1946     		mov	r1, r3
 246 004c 40F20003 		movw	r3, #:lower16:printf
 247 0050 C0F20003 		movt	r3, #:upper16:printf
 248 0054 9847     		blx	r3
 114:..//PHY/main.cpp **** /**#########################################################################################*/		
 115:..//PHY/main.cpp **** 	dt_set_delay(DELAY_HEARTBEAT, 5000);
 249              		.loc 2 115 0
 250 0056 4FF02C00 		mov	r0, #44
 251 005a 41F28831 		movw	r1, #5000
 252 005e 40F20003 		movw	r3, #:lower16:_Z12dt_set_delayim
 253 0062 C0F20003 		movt	r3, #:upper16:_Z12dt_set_delayim
 254 0066 9847     		blx	r3
 116:..//PHY/main.cpp **** 	// dt_set_delay(DELAY_IO_UPDATE, 100);
 117:..//PHY/main.cpp **** 	// dt_set_delay(DATA_RATE, 1000);
 118:..//PHY/main.cpp **** 	// dt_set_delay(DELAY_LSM6DS3, delay_val);
 119:..//PHY/main.cpp **** 
 120:..//PHY/main.cpp **** /**#########################################################################################*/		
 121:..//PHY/main.cpp **** #if 1
 122:..//PHY/main.cpp **** 	if(CONFIG_VERSION_OK != read_config_version(fw_major_version,fw_minor_version)){	
 255              		.loc 2 122 0
 256 0068 40F20000 		movw	r0, #:lower16:fw_major_version
 257 006c C0F20000 		movt	r0, #:upper16:fw_major_version
 258 0070 40F20001 		movw	r1, #:lower16:fw_minor_version
 259 0074 C0F20001 		movt	r1, #:upper16:fw_minor_version
 260 0078 40F20003 		movw	r3, #:lower16:_Z19read_config_versionRhS_
 261 007c C0F20003 		movt	r3, #:upper16:_Z19read_config_versionRhS_
 262 0080 9847     		blx	r3
 263 0082 0346     		mov	r3, r0
 264 0084 002B     		cmp	r3, #0
 265 0086 0CBF     		ite	eq
 266 0088 0023     		moveq	r3, #0
 267 008a 0123     		movne	r3, #1
 268 008c DBB2     		uxtb	r3, r3
 269 008e 002B     		cmp	r3, #0
 270 0090 1FD0     		beq	.L8
 123:..//PHY/main.cpp **** 		// now fw_major and fw_minor contain the config version...
 124:..//PHY/main.cpp **** 		fw_major_version=CURRENT_CONFIG_MAJOR_VERSION;
 271              		.loc 2 124 0
 272 0092 40F20003 		movw	r3, #:lower16:fw_major_version
 273 0096 C0F20003 		movt	r3, #:upper16:fw_major_version
 274 009a 4FF00102 		mov	r2, #1
 275 009e 1A70     		strb	r2, [r3, #0]
 125:..//PHY/main.cpp **** 		fw_minor_version=CURRENT_CONFIG_MINOR_VERSION;
 276              		.loc 2 125 0
 277 00a0 40F20003 		movw	r3, #:lower16:fw_minor_version
 278 00a4 C0F20003 		movt	r3, #:upper16:fw_minor_version
 279 00a8 4FF00002 		mov	r2, #0
 280 00ac 1A70     		strb	r2, [r3, #0]
 126:..//PHY/main.cpp **** 		// printf("\nread onfig data");
 127:..//PHY/main.cpp **** 		config_set_defaults(fw_major_version, fw_minor_version);
 281              		.loc 2 127 0
 282 00ae 40F20003 		movw	r3, #:lower16:fw_major_version
 283 00b2 C0F20003 		movt	r3, #:upper16:fw_major_version
 284 00b6 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 285 00b8 40F20003 		movw	r3, #:lower16:fw_minor_version
 286 00bc C0F20003 		movt	r3, #:upper16:fw_minor_version
 287 00c0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 288 00c2 1046     		mov	r0, r2
 289 00c4 1946     		mov	r1, r3
 290 00c6 40F20003 		movw	r3, #:lower16:_Z19config_set_defaultshh
 291 00ca C0F20003 		movt	r3, #:upper16:_Z19config_set_defaultshh
 292 00ce 9847     		blx	r3
 293 00d0 0DE0     		b	.L9
 294              	.L8:
 128:..//PHY/main.cpp **** 	}else{	
 129:..//PHY/main.cpp **** 		// now fw_major and fw_minor contain the config version...
 130:..//PHY/main.cpp **** 		printf("\nread onfig data");
 295              		.loc 2 130 0
 296 00d2 40F20000 		movw	r0, #:lower16:.LC1
 297 00d6 C0F20000 		movt	r0, #:upper16:.LC1
 298 00da 40F20003 		movw	r3, #:lower16:printf
 299 00de C0F20003 		movt	r3, #:upper16:printf
 300 00e2 9847     		blx	r3
 131:..//PHY/main.cpp **** 		read_config_data();
 301              		.loc 2 131 0
 302 00e4 40F20003 		movw	r3, #:lower16:_Z16read_config_datav
 303 00e8 C0F20003 		movt	r3, #:upper16:_Z16read_config_datav
 304 00ec 9847     		blx	r3
 305              	.L9:
 132:..//PHY/main.cpp **** 	}
 133:..//PHY/main.cpp **** 	printf("\nout of config read %d\n",TRUE);
 306              		.loc 2 133 0
 307 00ee 40F20000 		movw	r0, #:lower16:.LC2
 308 00f2 C0F20000 		movt	r0, #:upper16:.LC2
 309 00f6 4FF00101 		mov	r1, #1
 310 00fa 40F20003 		movw	r3, #:lower16:printf
 311 00fe C0F20003 		movt	r3, #:upper16:printf
 312 0102 9847     		blx	r3
 134:..//PHY/main.cpp **** 	// config_set_defaults(fw_major_version, fw_minor_version);
 135:..//PHY/main.cpp **** #endif
 136:..//PHY/main.cpp **** /**#########################################################################################*/
 137:..//PHY/main.cpp **** 	// config_set_defaults(6,9);
 138:..//PHY/main.cpp **** 	// read_config_data();
 139:..//PHY/main.cpp **** 	unsigned int baud_val[5]={1200,9600,19200,38400,57600};
 313              		.loc 2 139 0
 314 0104 40F20003 		movw	r3, #:lower16:_ZZ4mainE4C.29
 315 0108 C0F20003 		movt	r3, #:upper16:_ZZ4mainE4C.29
 316 010c BC46     		mov	ip, r7
 317 010e 9E46     		mov	lr, r3
 318 0110 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 319 0114 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 320 0118 DEF80030 		ldr	r3, [lr, #0]
 321 011c CCF80030 		str	r3, [ip, #0]
 140:..//PHY/main.cpp **** 	// printf("\n%d",baud_rate_select);
 141:..//PHY/main.cpp **** 	baud_rate_select = 1;
 322              		.loc 2 141 0
 323 0120 40F20003 		movw	r3, #:lower16:baud_rate_select
 324 0124 C0F20003 		movt	r3, #:upper16:baud_rate_select
 325 0128 4FF00102 		mov	r2, #1
 326 012c 1A60     		str	r2, [r3, #0]
 142:..//PHY/main.cpp **** 	baud_value=baud_val[baud_rate_select];
 327              		.loc 2 142 0
 328 012e 40F20003 		movw	r3, #:lower16:baud_rate_select
 329 0132 C0F20003 		movt	r3, #:upper16:baud_rate_select
 330 0136 1B68     		ldr	r3, [r3, #0]
 331 0138 4FEA8303 		lsl	r3, r3, #2
 332 013c 07F12802 		add	r2, r7, #40
 333 0140 1344     		add	r3, r3, r2
 334 0142 53F8282C 		ldr	r2, [r3, #-40]
 335 0146 40F20003 		movw	r3, #:lower16:baud_value
 336 014a C0F20003 		movt	r3, #:upper16:baud_value
 337 014e 1A60     		str	r2, [r3, #0]
 143:..//PHY/main.cpp **** 	// UART_Init2(baud_value);
 144:..//PHY/main.cpp **** 	usbSerialInit();
 338              		.loc 2 144 0
 339 0150 40F20003 		movw	r3, #:lower16:usbSerialInit
 340 0154 C0F20003 		movt	r3, #:upper16:usbSerialInit
 341 0158 9847     		blx	r3
 145:..//PHY/main.cpp **** 
 146:..//PHY/main.cpp **** 
 147:..//PHY/main.cpp **** 	// modbus_configure(&modbus2,(long)baud_value,slave_id_select,HOLDING_REGS_SIZE,holdingRegs); // M
 148:..//PHY/main.cpp **** 
 149:..//PHY/main.cpp **** #ifdef MOD_USB
 150:..//PHY/main.cpp **** 	modbus_configure(&modbusUSB,115200,1,HOLDING_REGS_SIZE,holdingRegs);
 342              		.loc 2 150 0
 343 015a 40F20003 		movw	r3, #:lower16:holdingRegs
 344 015e C0F20003 		movt	r3, #:upper16:holdingRegs
 345 0162 0093     		str	r3, [sp, #0]
 346 0164 40F20000 		movw	r0, #:lower16:modbusUSB
 347 0168 C0F20000 		movt	r0, #:upper16:modbusUSB
 348 016c 4FF4E131 		mov	r1, #115200
 349 0170 4FF00102 		mov	r2, #1
 350 0174 4FF4CE73 		mov	r3, #412
 351 0178 40F2000C 		movw	ip, #:lower16:_Z16modbus_configureP8modbus_tlijPj
 352 017c C0F2000C 		movt	ip, #:upper16:_Z16modbus_configureP8modbus_tlijPj
 353 0180 E047     		blx	ip
 151:..//PHY/main.cpp **** #endif
 152:..//PHY/main.cpp **** 	
 153:..//PHY/main.cpp **** /**#########################################################################################*/
 154:..//PHY/main.cpp **** 	dt_init();
 354              		.loc 2 154 0
 355 0182 40F20003 		movw	r3, #:lower16:_Z7dt_initv
 356 0186 C0F20003 		movt	r3, #:upper16:_Z7dt_initv
 357 018a 9847     		blx	r3
 155:..//PHY/main.cpp **** 	stepper_init();	
 358              		.loc 2 155 0
 359 018c 40F20003 		movw	r3, #:lower16:stepper_init
 360 0190 C0F20003 		movt	r3, #:upper16:stepper_init
 361 0194 9847     		blx	r3
 156:..//PHY/main.cpp **** 	init_timers();
 362              		.loc 2 156 0
 363 0196 40F20003 		movw	r3, #:lower16:init_timers
 364 019a C0F20003 		movt	r3, #:upper16:init_timers
 365 019e 9847     		blx	r3
 157:..//PHY/main.cpp **** 	stepper_update_freq();
 366              		.loc 2 157 0
 367 01a0 40F20003 		movw	r3, #:lower16:stepper_update_freq
 368 01a4 C0F20003 		movt	r3, #:upper16:stepper_update_freq
 369 01a8 9847     		blx	r3
 158:..//PHY/main.cpp **** 	io_init();
 370              		.loc 2 158 0
 371 01aa 40F20003 		movw	r3, #:lower16:io_init
 372 01ae C0F20003 		movt	r3, #:upper16:io_init
 373 01b2 9847     		blx	r3
 159:..//PHY/main.cpp **** 	iap_init();
 374              		.loc 2 159 0
 375 01b4 40F20003 		movw	r3, #:lower16:iap_init
 376 01b8 C0F20003 		movt	r3, #:upper16:iap_init
 377 01bc 9847     		blx	r3
 160:..//PHY/main.cpp **** 	// stepper_update_freq();
 161:..//PHY/main.cpp **** /**#########################################################################################*/		
 162:..//PHY/main.cpp **** 	/*Required for multi-steppers library*/
 163:..//PHY/main.cpp **** 	RESET_MODBUS_TIMER;
 378              		.loc 2 163 0
 379 01be 44F20000 		movw	r0, #:lower16:1073758208
 380 01c2 C4F20000 		movt	r0, #:upper16:1073758208
 381 01c6 40F20003 		movw	r3, #:lower16:reset_timer
 382 01ca C0F20003 		movt	r3, #:upper16:reset_timer
 383 01ce 9847     		blx	r3
 164:..//PHY/main.cpp **** 	start_timers();
 384              		.loc 2 164 0
 385 01d0 40F20003 		movw	r3, #:lower16:start_timers
 386 01d4 C0F20003 		movt	r3, #:upper16:start_timers
 387 01d8 9847     		blx	r3
 165:..//PHY/main.cpp **** 
 166:..//PHY/main.cpp **** /**#########################################################################################*/		
 167:..//PHY/main.cpp **** 	//SSP master init
 168:..//PHY/main.cpp **** 	// ssp_master_init();
 169:..//PHY/main.cpp **** 	// GPIO_SetDir(0, (1<<6), 1);
 170:..//PHY/main.cpp **** 	// GPIO_SetValue(0, (1<<6));
 171:..//PHY/main.cpp **** 	// GPIO_SetValue(0, (1<<6));
 172:..//PHY/main.cpp **** /**#########################################################################################*/			
 173:..//PHY/main.cpp **** 
 174:..//PHY/main.cpp **** 	for(i=0;i<DELAY_TOTAL_NUM;i++){
 388              		.loc 2 174 0
 389 01da 4FF00003 		mov	r3, #0
 390 01de 7B61     		str	r3, [r7, #20]
 391 01e0 0AE0     		b	.L10
 392              	.L11:
 175:..//PHY/main.cpp **** 		dt_reset(i);
 393              		.loc 2 175 0
 394 01e2 7B69     		ldr	r3, [r7, #20]
 395 01e4 1846     		mov	r0, r3
 396 01e6 40F20003 		movw	r3, #:lower16:_Z8dt_reseti
 397 01ea C0F20003 		movt	r3, #:upper16:_Z8dt_reseti
 398 01ee 9847     		blx	r3
 399              		.loc 2 174 0
 400 01f0 7B69     		ldr	r3, [r7, #20]
 401 01f2 03F10103 		add	r3, r3, #1
 402 01f6 7B61     		str	r3, [r7, #20]
 403              	.L10:
 404 01f8 7B69     		ldr	r3, [r7, #20]
 405 01fa 2D2B     		cmp	r3, #45
 406 01fc 8CBF     		ite	hi
 407 01fe 0023     		movhi	r3, #0
 408 0200 0123     		movls	r3, #1
 409 0202 DBB2     		uxtb	r3, r3
 410 0204 002B     		cmp	r3, #0
 411 0206 ECD1     		bne	.L11
 176:..//PHY/main.cpp **** 	}
 177:..//PHY/main.cpp **** 
 178:..//PHY/main.cpp **** /**#########################################################################################*/
 179:..//PHY/main.cpp **** 	toggle = 0;
 412              		.loc 2 179 0
 413 0208 4FF00003 		mov	r3, #0
 414 020c FB61     		str	r3, [r7, #28]
 180:..//PHY/main.cpp **** 	
 181:..//PHY/main.cpp **** 	// for(i=0;i<HOLDING_REGS_SIZE;i++){
 182:..//PHY/main.cpp **** 	// 	holdingRegs[i]=100;
 183:..//PHY/main.cpp **** 	// }
 184:..//PHY/main.cpp **** 	
 185:..//PHY/main.cpp **** 	// for(modbus_count=0;modbus_count<HOLDING_REGS_SIZE;modbus_count++){
 186:..//PHY/main.cpp **** 	// 	set_holding_registers_values(modbus_count);
 187:..//PHY/main.cpp **** 	// }
 188:..//PHY/main.cpp **** 
 189:..//PHY/main.cpp **** 
 190:..//PHY/main.cpp **** 	int mySlaveID = 1;
 415              		.loc 2 190 0
 416 020e 4FF00103 		mov	r3, #1
 417 0212 3B62     		str	r3, [r7, #32]
 191:..//PHY/main.cpp **** 	/**#########################################################################################*/	
 192:..//PHY/main.cpp **** #if 0
 193:..//PHY/main.cpp **** 	//TCP_INIT
 194:..//PHY/main.cpp **** 	printf("\nTCP init started %d",1);
 195:..//PHY/main.cpp **** 
 196:..//PHY/main.cpp **** 	int init_val = TCPLowLevelInit();
 197:..//PHY/main.cpp **** 	printf("\n init_val = %d",init_val);
 198:..//PHY/main.cpp **** 	// EMAC_Init_New();
 199:..//PHY/main.cpp **** 	HTTPStatus = 0;                                // clear HTTP-server's flag register
 200:..//PHY/main.cpp **** 	// modbusserver_init(holdingRegs,HOLDING_REGS_SIZE);
 201:..//PHY/main.cpp **** 	// TCPLocalPort = TCP_PORT_HTTP;                  // set port we want to listen to
 202:..//PHY/main.cpp **** 	TCPLocalPort = TCP_PORT_MODBUS;                  // set port we want to listen to
 203:..//PHY/main.cpp **** 	// CodeRed - added info message
 204:..//PHY/main.cpp **** 	// LPC_GPIO0->FIODIR |= TEST_LED;
 205:..//PHY/main.cpp **** 	LPC_GPIO3->FIODIR |= (1<<25);
 206:..//PHY/main.cpp **** #endif
 207:..//PHY/main.cpp **** /**#########################################################################################*/
 208:..//PHY/main.cpp **** 	printf("\nwhil is starting 1");
 418              		.loc 2 208 0
 419 0214 40F20000 		movw	r0, #:lower16:.LC3
 420 0218 C0F20000 		movt	r0, #:upper16:.LC3
 421 021c 40F20003 		movw	r3, #:lower16:printf
 422 0220 C0F20003 		movt	r3, #:upper16:printf
 423 0224 9847     		blx	r3
 209:..//PHY/main.cpp **** 	uint8_t done=0;
 424              		.loc 2 209 0
 425 0226 4FF00003 		mov	r3, #0
 426 022a 87F82730 		strb	r3, [r7, #39]
 210:..//PHY/main.cpp **** 
 211:..//PHY/main.cpp **** 	// LPC_GPIO1->FIOSET = (1<<27);
 212:..//PHY/main.cpp **** 	// memcpy(TCP_TX_BUF,transfer_accel_table,sizeof(transfer_accel_table));
 213:..//PHY/main.cpp **** 	// LPC_GPIO1->FIOCLR = (1<<27);
 214:..//PHY/main.cpp **** 	// stepper_set_new_profile(0,10,1,1);
 215:..//PHY/main.cpp **** 	// stepper_set_final_pos(0,5000);
 216:..//PHY/main.cpp **** 	io_set_output(YELLOW_LED,1);
 427              		.loc 2 216 0
 428 022e 4FF00600 		mov	r0, #6
 429 0232 4FF00101 		mov	r1, #1
 430 0236 40F20003 		movw	r3, #:lower16:io_set_output
 431 023a C0F20003 		movt	r3, #:upper16:io_set_output
 432 023e 9847     		blx	r3
 433 0240 00E0     		b	.L19
 434              	.L21:
 217:..//PHY/main.cpp **** 
 218:..//PHY/main.cpp **** 	while(1){
 435              		.loc 2 218 0
 436 0242 00BF     		nop
 437              	.L19:
 219:..//PHY/main.cpp **** 
 220:..//PHY/main.cpp **** 		if(input_rise_flag[MOTOR_ON]){
 438              		.loc 2 220 0
 439 0244 40F20003 		movw	r3, #:lower16:input_rise_flag
 440 0248 C0F20003 		movt	r3, #:upper16:input_rise_flag
 441 024c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 442 024e 002B     		cmp	r3, #0
 443 0250 18D0     		beq	.L12
 221:..//PHY/main.cpp **** 			input_rise_flag[MOTOR_ON] = 0;
 444              		.loc 2 221 0
 445 0252 40F20003 		movw	r3, #:lower16:input_rise_flag
 446 0256 C0F20003 		movt	r3, #:upper16:input_rise_flag
 447 025a 4FF00002 		mov	r2, #0
 448 025e 1A70     		strb	r2, [r3, #0]
 222:..//PHY/main.cpp **** 			stepper_set_new_profile(MOTOR0,10.0,0.5,0.5);
 449              		.loc 2 222 0
 450 0260 4FF00000 		mov	r0, #0
 451 0264 4B49     		ldr	r1, .L22	@ float
 452 0266 4C4A     		ldr	r2, .L22+4	@ float
 453 0268 4B4B     		ldr	r3, .L22+4	@ float
 454 026a 40F2000C 		movw	ip, #:lower16:stepper_set_new_profile
 455 026e C0F2000C 		movt	ip, #:upper16:stepper_set_new_profile
 456 0272 E047     		blx	ip
 223:..//PHY/main.cpp **** 			stepper_set_final_pos(MOTOR0,0xFFFFFFF);
 457              		.loc 2 223 0
 458 0274 4FF00000 		mov	r0, #0
 459 0278 4849     		ldr	r1, .L22+8	@ float
 460 027a 40F20003 		movw	r3, #:lower16:stepper_set_final_pos
 461 027e C0F20003 		movt	r3, #:upper16:stepper_set_final_pos
 462 0282 9847     		blx	r3
 463              	.L12:
 224:..//PHY/main.cpp **** 		}
 225:..//PHY/main.cpp **** 
 226:..//PHY/main.cpp **** 		if(input_fall_flag[MOTOR_ON]){
 464              		.loc 2 226 0
 465 0284 40F20003 		movw	r3, #:lower16:input_fall_flag
 466 0288 C0F20003 		movt	r3, #:upper16:input_fall_flag
 467 028c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 468 028e 002B     		cmp	r3, #0
 469 0290 0DD0     		beq	.L13
 227:..//PHY/main.cpp **** 			input_fall_flag[MOTOR_ON] = 0;
 470              		.loc 2 227 0
 471 0292 40F20003 		movw	r3, #:lower16:input_fall_flag
 472 0296 C0F20003 		movt	r3, #:upper16:input_fall_flag
 473 029a 4FF00002 		mov	r2, #0
 474 029e 1A70     		strb	r2, [r3, #0]
 228:..//PHY/main.cpp **** 			stepper_stop_motor(MOTOR0);
 475              		.loc 2 228 0
 476 02a0 4FF00000 		mov	r0, #0
 477 02a4 40F20003 		movw	r3, #:lower16:stepper_stop_motor
 478 02a8 C0F20003 		movt	r3, #:upper16:stepper_stop_motor
 479 02ac 9847     		blx	r3
 480              	.L13:
 229:..//PHY/main.cpp **** 		}
 230:..//PHY/main.cpp **** 
 231:..//PHY/main.cpp **** 		if(input_rise_flag[HOPPER_ON]){
 481              		.loc 2 231 0
 482 02ae 40F20003 		movw	r3, #:lower16:input_rise_flag
 483 02b2 C0F20003 		movt	r3, #:upper16:input_rise_flag
 484 02b6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 485 02b8 002B     		cmp	r3, #0
 486 02ba 0FD0     		beq	.L14
 232:..//PHY/main.cpp **** 			input_rise_flag[HOPPER_ON] = 0;
 487              		.loc 2 232 0
 488 02bc 40F20003 		movw	r3, #:lower16:input_rise_flag
 489 02c0 C0F20003 		movt	r3, #:upper16:input_rise_flag
 490 02c4 4FF00002 		mov	r2, #0
 491 02c8 5A70     		strb	r2, [r3, #1]
 233:..//PHY/main.cpp **** 			io_set_output(HOPPER,1);
 492              		.loc 2 233 0
 493 02ca 4FF00400 		mov	r0, #4
 494 02ce 4FF00101 		mov	r1, #1
 495 02d2 40F20003 		movw	r3, #:lower16:io_set_output
 496 02d6 C0F20003 		movt	r3, #:upper16:io_set_output
 497 02da 9847     		blx	r3
 498              	.L14:
 234:..//PHY/main.cpp **** 		}
 235:..//PHY/main.cpp **** 
 236:..//PHY/main.cpp **** 		if(input_fall_flag[HOPPER_ON]){
 499              		.loc 2 236 0
 500 02dc 40F20003 		movw	r3, #:lower16:input_fall_flag
 501 02e0 C0F20003 		movt	r3, #:upper16:input_fall_flag
 502 02e4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 503 02e6 002B     		cmp	r3, #0
 504 02e8 0FD0     		beq	.L15
 237:..//PHY/main.cpp **** 			input_fall_flag[HOPPER_ON] = 0;
 505              		.loc 2 237 0
 506 02ea 40F20003 		movw	r3, #:lower16:input_fall_flag
 507 02ee C0F20003 		movt	r3, #:upper16:input_fall_flag
 508 02f2 4FF00002 		mov	r2, #0
 509 02f6 5A70     		strb	r2, [r3, #1]
 238:..//PHY/main.cpp **** 			io_set_output(HOPPER,0);
 510              		.loc 2 238 0
 511 02f8 4FF00400 		mov	r0, #4
 512 02fc 4FF00001 		mov	r1, #0
 513 0300 40F20003 		movw	r3, #:lower16:io_set_output
 514 0304 C0F20003 		movt	r3, #:upper16:io_set_output
 515 0308 9847     		blx	r3
 516              	.L15:
 239:..//PHY/main.cpp **** 		}
 240:..//PHY/main.cpp **** 
 241:..//PHY/main.cpp **** 				
 242:..//PHY/main.cpp **** 		if(flash_write_now){
 517              		.loc 2 242 0
 518 030a 40F20003 		movw	r3, #:lower16:flash_write_now
 519 030e C0F20003 		movt	r3, #:upper16:flash_write_now
 520 0312 1B68     		ldr	r3, [r3, #0]
 521 0314 002B     		cmp	r3, #0
 522 0316 0AD0     		beq	.L16
 243:..//PHY/main.cpp **** 			// printf("\n write eeprom");
 244:..//PHY/main.cpp **** 			execute_eeprom_write(flash_write_now);
 523              		.loc 2 244 0
 524 0318 40F20003 		movw	r3, #:lower16:flash_write_now
 525 031c C0F20003 		movt	r3, #:upper16:flash_write_now
 526 0320 1B68     		ldr	r3, [r3, #0]
 527 0322 1846     		mov	r0, r3
 528 0324 40F20003 		movw	r3, #:lower16:_Z20execute_eeprom_writei
 529 0328 C0F20003 		movt	r3, #:upper16:_Z20execute_eeprom_writei
 530 032c 9847     		blx	r3
 531              	.L16:
 245:..//PHY/main.cpp **** 		}
 246:..//PHY/main.cpp **** 
 247:..//PHY/main.cpp **** 		// printf("\nwhil is starting 1");
 248:..//PHY/main.cpp **** 
 249:..//PHY/main.cpp **** 		/* update function for the modbus operation*/
 250:..//PHY/main.cpp **** 		// modbus_retVal = modbus_update(&modbus2);		
 251:..//PHY/main.cpp **** 		modbus_retVal = modbus_update(&modbusUSB);		
 532              		.loc 2 251 0
 533 032e 40F20000 		movw	r0, #:lower16:modbusUSB
 534 0332 C0F20000 		movt	r0, #:upper16:modbusUSB
 535 0336 40F20003 		movw	r3, #:lower16:modbus_update
 536 033a C0F20003 		movt	r3, #:upper16:modbus_update
 537 033e 9847     		blx	r3
 538 0340 0346     		mov	r3, r0
 539 0342 1A46     		mov	r2, r3
 540 0344 40F20003 		movw	r3, #:lower16:modbus_retVal
 541 0348 C0F20003 		movt	r3, #:upper16:modbus_retVal
 542 034c 1A60     		str	r2, [r3, #0]
 252:..//PHY/main.cpp **** 				
 253:..//PHY/main.cpp **** 
 254:..//PHY/main.cpp **** 		if(dt_is_timeup(DELAY_HEARTBEAT)){
 543              		.loc 2 254 0
 544 034e 4FF02C00 		mov	r0, #44
 545 0352 40F20003 		movw	r3, #:lower16:_Z12dt_is_timeupi
 546 0356 C0F20003 		movt	r3, #:upper16:_Z12dt_is_timeupi
 547 035a 9847     		blx	r3
 548 035c 0346     		mov	r3, r0
 549 035e 002B     		cmp	r3, #0
 550 0360 0CBF     		ite	eq
 551 0362 0023     		moveq	r3, #0
 552 0364 0123     		movne	r3, #1
 553 0366 DBB2     		uxtb	r3, r3
 554 0368 002B     		cmp	r3, #0
 555 036a 3FF46AAF 		beq	.L21
 255:..//PHY/main.cpp **** 			dt_reset(DELAY_HEARTBEAT);
 556              		.loc 2 255 0
 557 036e 4FF02C00 		mov	r0, #44
 558 0372 40F20003 		movw	r3, #:lower16:_Z8dt_reseti
 559 0376 C0F20003 		movt	r3, #:upper16:_Z8dt_reseti
 560 037a 9847     		blx	r3
 256:..//PHY/main.cpp **** 
 257:..//PHY/main.cpp **** 			if(toggle){
 561              		.loc 2 257 0
 562 037c FB69     		ldr	r3, [r7, #28]
 563 037e 002B     		cmp	r3, #0
 564 0380 03D0     		beq	.L18
 258:..//PHY/main.cpp **** 				toggle = 0;
 565              		.loc 2 258 0
 566 0382 4FF00003 		mov	r3, #0
 567 0386 FB61     		str	r3, [r7, #28]
 568              		.loc 2 218 0
 569 0388 5CE7     		b	.L19
 570              	.L18:
 259:..//PHY/main.cpp **** 				// printf("\ntog = 0 ");
 260:..//PHY/main.cpp **** 				// io_set_output(0,0);
 261:..//PHY/main.cpp **** 				// io_set_output(1,0);
 262:..//PHY/main.cpp **** 				// io_set_output(2,0);
 263:..//PHY/main.cpp **** 				// io_set_output(3,0);
 264:..//PHY/main.cpp **** 			}else{
 265:..//PHY/main.cpp **** 				toggle = 1;
 571              		.loc 2 265 0
 572 038a 4FF00103 		mov	r3, #1
 573 038e FB61     		str	r3, [r7, #28]
 574              		.loc 2 218 0
 575 0390 58E7     		b	.L19
 576              	.L23:
 577 0392 00BF     		.align	2
 578              	.L22:
 579 0394 00002041 		.word	1092616192
 580 0398 0000003F 		.word	1056964608
 581 039c 0000804D 		.word	1300234240
 582              	.LBE2:
 583              		.cfi_endproc
 584              	.LFE33:
 586              		.section	.text._Z13Check_RX_DataPt,"ax",%progbits
 587              		.align	2
 588              		.global	_Z13Check_RX_DataPt
 589              		.thumb
 590              		.thumb_func
 592              	_Z13Check_RX_DataPt:
 593              	.LFB34:
 266:..//PHY/main.cpp **** 				// printf("\ntog = 1");
 267:..//PHY/main.cpp **** 				// io_set_output(0,1);
 268:..//PHY/main.cpp **** 				// io_set_output(1,1);
 269:..//PHY/main.cpp **** 				// io_set_output(2,1);
 270:..//PHY/main.cpp **** 				// io_set_output(3,1);
 271:..//PHY/main.cpp **** 
 272:..//PHY/main.cpp **** 			}		
 273:..//PHY/main.cpp **** 		}		
 274:..//PHY/main.cpp **** 	}
 275:..//PHY/main.cpp **** 	return 0;
 276:..//PHY/main.cpp **** }
 277:..//PHY/main.cpp **** 
 278:..//PHY/main.cpp **** enum getSerialCommand
 279:..//PHY/main.cpp **** {
 280:..//PHY/main.cpp **** 	Set_Byte=0x23,
 281:..//PHY/main.cpp **** 	Valid_Byte=0x24,
 282:..//PHY/main.cpp **** 	Set_Word=0x25,
 283:..//PHY/main.cpp **** 	Reset_All=0x26,
 284:..//PHY/main.cpp **** 	Init_Ptr=0x27,
 285:..//PHY/main.cpp **** 	Turn_On_GPIO=0x28,
 286:..//PHY/main.cpp **** 	Turn_Off_GPIO=0x29,
 287:..//PHY/main.cpp **** 	Set_Flag=0x2A,
 288:..//PHY/main.cpp **** 	Clear_Flag=0x2B,
 289:..//PHY/main.cpp **** 	Read_byte=0x2C,
 290:..//PHY/main.cpp ****     Trig_Cam=0x2E,
 291:..//PHY/main.cpp **** 	Set_Delay=0x2F,
 292:..//PHY/main.cpp **** 	Read_Mem=0x30    
 293:..//PHY/main.cpp **** };
 294:..//PHY/main.cpp **** 
 295:..//PHY/main.cpp **** void Check_RX_Data(uint16_t *frameArray)
 296:..//PHY/main.cpp **** {
 594              		.loc 2 296 0
 595              		.cfi_startproc
 596              		@ args = 0, pretend = 0, frame = 16
 597              		@ frame_needed = 1, uses_anonymous_args = 0
 598              		@ link register save eliminated.
 599 0000 80B4     		push	{r7}
 600              	.LCFI6:
 601              		.cfi_def_cfa_offset 4
 602 0002 85B0     		sub	sp, sp, #20
 603              	.LCFI7:
 604              		.cfi_def_cfa_offset 24
 605 0004 00AF     		add	r7, sp, #0
 606              		.cfi_offset 7, -4
 607              	.LCFI8:
 608              		.cfi_def_cfa_register 7
 609 0006 7860     		str	r0, [r7, #4]
 610              	.LBB3:
 297:..//PHY/main.cpp ****   int i=0;
 611              		.loc 2 297 0
 612 0008 4FF00003 		mov	r3, #0
 613 000c FB60     		str	r3, [r7, #12]
 298:..//PHY/main.cpp ****   if(frameArray[i]==Valid_Byte)
 614              		.loc 2 298 0
 615 000e FB68     		ldr	r3, [r7, #12]
 616 0010 4FEA4302 		lsl	r2, r3, #1
 617 0014 7B68     		ldr	r3, [r7, #4]
 618 0016 1344     		add	r3, r2, r3
 619 0018 1B88     		ldrh	r3, [r3, #0]
 620 001a 242B     		cmp	r3, #36
 621 001c 03D1     		bne	.L26
 299:..//PHY/main.cpp ****   {
 300:..//PHY/main.cpp ****   	switch(frameArray[++i])
 622              		.loc 2 300 0
 623 001e FB68     		ldr	r3, [r7, #12]
 624 0020 03F10103 		add	r3, r3, #1
 625 0024 FB60     		str	r3, [r7, #12]
 626              	.L26:
 627              	.LBE3:
 301:..//PHY/main.cpp ****   	{
 302:..//PHY/main.cpp ****   	 case Set_Byte:
 303:..//PHY/main.cpp ****   	   break;
 304:..//PHY/main.cpp ****   	 case Set_Word:
 305:..//PHY/main.cpp ****   	  	break;
 306:..//PHY/main.cpp ****   	 case Reset_All:
 307:..//PHY/main.cpp ****   	  	break;
 308:..//PHY/main.cpp ****   	 case Init_Ptr:
 309:..//PHY/main.cpp ****   	  	break;
 310:..//PHY/main.cpp ****   	 case Turn_On_GPIO:
 311:..//PHY/main.cpp ****       	break;
 312:..//PHY/main.cpp ****      case Turn_Off_GPIO:
 313:..//PHY/main.cpp ****       	break;
 314:..//PHY/main.cpp ****      case Set_Flag:
 315:..//PHY/main.cpp ****       	break;
 316:..//PHY/main.cpp ****      case Clear_Flag:
 317:..//PHY/main.cpp ****       	break;
 318:..//PHY/main.cpp ****      case Read_byte:
 319:..//PHY/main.cpp ****       	break;
 320:..//PHY/main.cpp ****      case Trig_Cam:
 321:..//PHY/main.cpp **** 		break;
 322:..//PHY/main.cpp ****      case Set_Delay:
 323:..//PHY/main.cpp ****       	break;
 324:..//PHY/main.cpp ****      case Read_Mem:
 325:..//PHY/main.cpp **** 
 326:..//PHY/main.cpp ****      default:
 327:..//PHY/main.cpp ****        	break;
 328:..//PHY/main.cpp **** 
 329:..//PHY/main.cpp ****   	}
 330:..//PHY/main.cpp ****   }
 331:..//PHY/main.cpp ****  else
 332:..//PHY/main.cpp ****  {
 333:..//PHY/main.cpp **** 
 334:..//PHY/main.cpp ****  //implement result checking logic
 335:..//PHY/main.cpp ****  }
 336:..//PHY/main.cpp **** 
 337:..//PHY/main.cpp **** 
 338:..//PHY/main.cpp **** }
 628              		.loc 2 338 0
 629 0026 07F11407 		add	r7, r7, #20
 630 002a BD46     		mov	sp, r7
 631 002c 80BC     		pop	{r7}
 632 002e 7047     		bx	lr
 633              		.cfi_endproc
 634              	.LFE34:
 636              		.section	.text._Z24modbus_exception_handleri,"ax",%progbits
 637              		.align	2
 638              		.global	_Z24modbus_exception_handleri
 639              		.thumb
 640              		.thumb_func
 642              	_Z24modbus_exception_handleri:
 643              	.LFB35:
 339:..//PHY/main.cpp **** 
 340:..//PHY/main.cpp **** 
 341:..//PHY/main.cpp **** 
 342:..//PHY/main.cpp **** 
 343:..//PHY/main.cpp **** 
 344:..//PHY/main.cpp **** // extern "C"{
 345:..//PHY/main.cpp **** int modbus_exception_handler(int modbus_ret){
 644              		.loc 2 345 0
 645              		.cfi_startproc
 646              		@ args = 0, pretend = 0, frame = 8
 647              		@ frame_needed = 1, uses_anonymous_args = 0
 648              		@ link register save eliminated.
 649 0000 80B4     		push	{r7}
 650              	.LCFI9:
 651              		.cfi_def_cfa_offset 4
 652 0002 83B0     		sub	sp, sp, #12
 653              	.LCFI10:
 654              		.cfi_def_cfa_offset 16
 655 0004 00AF     		add	r7, sp, #0
 656              		.cfi_offset 7, -4
 657              	.LCFI11:
 658              		.cfi_def_cfa_register 7
 659 0006 7860     		str	r0, [r7, #4]
 346:..//PHY/main.cpp **** 	switch(modbus_ret){
 347:..//PHY/main.cpp **** 		case MB_OVERFLOW:
 348:..//PHY/main.cpp **** 			// do something here..
 349:..//PHY/main.cpp **** 		break;
 350:..//PHY/main.cpp **** 		case MB_DATA_WRITTEN:{
 351:..//PHY/main.cpp **** 			// printf("\n MB_DATA_WRITTEN");
 352:..//PHY/main.cpp **** 			// int modbus_count;
 353:..//PHY/main.cpp **** 			// copy the received data to local variables..
 354:..//PHY/main.cpp **** 			// for(modbus_count=0;modbus_count<HOLDING_REGS_SIZE;modbus_count++){
 355:..//PHY/main.cpp **** 				// apply_modbus_values(modbus_count);
 356:..//PHY/main.cpp **** 			// }
 357:..//PHY/main.cpp **** 			break;
 358:..//PHY/main.cpp **** 		}
 359:..//PHY/main.cpp **** 		case MB_CORRUPT_PACKET:
 360:..//PHY/main.cpp **** 			// printf("\n MB_CORRUPT_PACKET");
 361:..//PHY/main.cpp **** 			// do something here..
 362:..//PHY/main.cpp **** 		break;
 363:..//PHY/main.cpp **** 		case MB_CHECKSUM_FAILED:
 364:..//PHY/main.cpp **** 			// printf("\n MB_CHECKSUM_FAILED");
 365:..//PHY/main.cpp **** 			// do something here..
 366:..//PHY/main.cpp **** 		break;
 367:..//PHY/main.cpp **** 		case MB_INCORRECT_ID:
 368:..//PHY/main.cpp **** 			// printf("\n MB_INCORRECT_ID");
 369:..//PHY/main.cpp **** 			// do something here..
 370:..//PHY/main.cpp **** 		break;
 371:..//PHY/main.cpp **** 		case MB_DATA_READ:
 372:..//PHY/main.cpp **** 			// printf("\n MB_DATA_READ");
 373:..//PHY/main.cpp **** 			// do something here..
 374:..//PHY/main.cpp **** 		break;
 375:..//PHY/main.cpp **** 	}
 376:..//PHY/main.cpp **** 	return 1;
 660              		.loc 2 376 0
 661 0008 4FF00103 		mov	r3, #1
 377:..//PHY/main.cpp **** }
 662              		.loc 2 377 0
 663 000c 1846     		mov	r0, r3
 664 000e 07F10C07 		add	r7, r7, #12
 665 0012 BD46     		mov	sp, r7
 666 0014 80BC     		pop	{r7}
 667 0016 7047     		bx	lr
 668              		.cfi_endproc
 669              	.LFE35:
 671              		.section	.text._Z40set_holding_registers_values_accel_tableii,"ax",%progbits
 672              		.align	2
 673              		.global	_Z40set_holding_registers_values_accel_tableii
 674              		.thumb
 675              		.thumb_func
 677              	_Z40set_holding_registers_values_accel_tableii:
 678              	.LFB36:
 378:..//PHY/main.cpp **** 
 379:..//PHY/main.cpp **** int set_holding_registers_values_accel_table(int modbus_cnt , int index_offset){
 679              		.loc 2 379 0
 680              		.cfi_startproc
 681              		@ args = 0, pretend = 0, frame = 16
 682              		@ frame_needed = 1, uses_anonymous_args = 0
 683              		@ link register save eliminated.
 684 0000 80B4     		push	{r7}
 685              	.LCFI12:
 686              		.cfi_def_cfa_offset 4
 687 0002 85B0     		sub	sp, sp, #20
 688              	.LCFI13:
 689              		.cfi_def_cfa_offset 24
 690 0004 00AF     		add	r7, sp, #0
 691              		.cfi_offset 7, -4
 692              	.LCFI14:
 693              		.cfi_def_cfa_register 7
 694 0006 7860     		str	r0, [r7, #4]
 695 0008 3960     		str	r1, [r7, #0]
 696              	.LBB4:
 380:..//PHY/main.cpp **** 	unsigned int temp_int=0;
 697              		.loc 2 380 0
 698 000a 4FF00003 		mov	r3, #0
 699 000e FB60     		str	r3, [r7, #12]
 700              	.LBE4:
 381:..//PHY/main.cpp **** 	switch(modbus_cnt){
 382:..//PHY/main.cpp **** 
 383:..//PHY/main.cpp **** 		case MB_X_ACCEL:
 384:..//PHY/main.cpp **** 			// temp_int = (unsigned int)(accel_table[index_offset].read_datax);
 385:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[(modbus_cnt+(index_offset*ACCEL_REG_NUM))]){
 386:..//PHY/main.cpp **** 			// 	holdingRegs[(modbus_cnt+(index_offset*ACCEL_REG_NUM))] = temp_int;
 387:..//PHY/main.cpp **** 			// }
 388:..//PHY/main.cpp **** 			break;
 389:..//PHY/main.cpp **** 
 390:..//PHY/main.cpp **** 		case MB_Y_ACCEL:
 391:..//PHY/main.cpp **** 			// temp_int = (unsigned int)(accel_table[index_offset].read_datay);
 392:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[(modbus_cnt+(index_offset*ACCEL_REG_NUM))]){
 393:..//PHY/main.cpp **** 			// 	holdingRegs[(modbus_cnt+(index_offset*ACCEL_REG_NUM))] = temp_int;
 394:..//PHY/main.cpp **** 			// }
 395:..//PHY/main.cpp **** 			break;
 396:..//PHY/main.cpp **** 			
 397:..//PHY/main.cpp **** 		case MB_Z_ACCEL:
 398:..//PHY/main.cpp **** 			// temp_int = (unsigned int)(accel_table[index_offset].read_dataz);
 399:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[(modbus_cnt+(index_offset*ACCEL_REG_NUM))]){
 400:..//PHY/main.cpp **** 			// 	holdingRegs[(modbus_cnt+(index_offset*ACCEL_REG_NUM))] = temp_int;
 401:..//PHY/main.cpp **** 			// }
 402:..//PHY/main.cpp **** 			break;		
 403:..//PHY/main.cpp **** 	}
 404:..//PHY/main.cpp **** }
 701              		.loc 2 404 0
 702 0010 07F11407 		add	r7, r7, #20
 703 0014 BD46     		mov	sp, r7
 704 0016 80BC     		pop	{r7}
 705 0018 7047     		bx	lr
 706              		.cfi_endproc
 707              	.LFE36:
 709 001a 00BF     		.section	.text.set_holding_registers_values,"ax",%progbits
 710              		.align	2
 711              		.global	set_holding_registers_values
 712              		.thumb
 713              		.thumb_func
 715              	set_holding_registers_values:
 716              	.LFB37:
 405:..//PHY/main.cpp **** 
 406:..//PHY/main.cpp **** int set_holding_registers_values(int modbus_cnt){
 717              		.loc 2 406 0
 718              		.cfi_startproc
 719              		@ args = 0, pretend = 0, frame = 16
 720              		@ frame_needed = 1, uses_anonymous_args = 0
 721              		@ link register save eliminated.
 722 0000 80B4     		push	{r7}
 723              	.LCFI15:
 724              		.cfi_def_cfa_offset 4
 725 0002 85B0     		sub	sp, sp, #20
 726              	.LCFI16:
 727              		.cfi_def_cfa_offset 24
 728 0004 00AF     		add	r7, sp, #0
 729              		.cfi_offset 7, -4
 730              	.LCFI17:
 731              		.cfi_def_cfa_register 7
 732 0006 7860     		str	r0, [r7, #4]
 733              	.LBB5:
 407:..//PHY/main.cpp **** 	unsigned int temp_int=0;
 734              		.loc 2 407 0
 735 0008 4FF00003 		mov	r3, #0
 736 000c FB60     		str	r3, [r7, #12]
 408:..//PHY/main.cpp **** 	switch(modbus_cnt){
 409:..//PHY/main.cpp **** 		case MB_MY_IP1:
 410:..//PHY/main.cpp **** 			// temp_int = (unsigned int)MYIP_1;
 411:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[MB_MY_IP1]){
 412:..//PHY/main.cpp **** 			// 	holdingRegs[MB_MY_IP1] = temp_int;
 413:..//PHY/main.cpp **** 			// }
 414:..//PHY/main.cpp **** 			
 415:..//PHY/main.cpp **** 			break;
 416:..//PHY/main.cpp **** 
 417:..//PHY/main.cpp **** 		case MB_MY_IP2:
 418:..//PHY/main.cpp **** 			// temp_int = (unsigned int)MYIP_2;
 419:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[MB_MY_IP2])
 420:..//PHY/main.cpp **** 			// 	holdingRegs[MB_MY_IP2] = temp_int;
 421:..//PHY/main.cpp **** 			break;		
 422:..//PHY/main.cpp **** 
 423:..//PHY/main.cpp **** 		case MB_MY_IP3:
 424:..//PHY/main.cpp **** 			// temp_int = (unsigned int)MYIP_3;
 425:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[MB_MY_IP3])
 426:..//PHY/main.cpp **** 			// 	holdingRegs[MB_MY_IP3] = temp_int;
 427:..//PHY/main.cpp **** 			break;	
 428:..//PHY/main.cpp **** 
 429:..//PHY/main.cpp **** 		case MB_MY_IP4:
 430:..//PHY/main.cpp **** 			// temp_int = (unsigned int)MYIP_4;
 431:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[MYIP_4]){
 432:..//PHY/main.cpp **** 			// 	holdingRegs[MB_MY_IP4] = temp_int;
 433:..//PHY/main.cpp **** 			// }
 434:..//PHY/main.cpp **** 
 435:..//PHY/main.cpp **** 			break;
 436:..//PHY/main.cpp **** 
 437:..//PHY/main.cpp **** 		case SM_DELAY_SET:
 438:..//PHY/main.cpp **** 			// temp_int = (unsigned int)delay_val;
 439:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[SM_DELAY_SET])
 440:..//PHY/main.cpp **** 			// 	holdingRegs[SM_DELAY_SET] = temp_int;
 441:..//PHY/main.cpp **** 			break;			
 442:..//PHY/main.cpp **** 			
 443:..//PHY/main.cpp **** 		case SM_READ_DATA:
 444:..//PHY/main.cpp **** 			// temp_int = (unsigned int)read_data_lsm;
 445:..//PHY/main.cpp **** 			// if(temp_int != holdingRegs[SM_READ_DATA])
 446:..//PHY/main.cpp **** 			// 	holdingRegs[SM_READ_DATA] = temp_int;
 447:..//PHY/main.cpp **** 			
 448:..//PHY/main.cpp **** 		break;
 449:..//PHY/main.cpp **** 
 450:..//PHY/main.cpp **** 		default:
 451:..//PHY/main.cpp **** 
 452:..//PHY/main.cpp **** 			break;
 453:..//PHY/main.cpp **** 	}
 454:..//PHY/main.cpp **** 	return 1;
 737              		.loc 2 454 0
 738 000e 4FF00103 		mov	r3, #1
 739              	.LBE5:
 455:..//PHY/main.cpp **** 
 456:..//PHY/main.cpp **** }
 740              		.loc 2 456 0
 741 0012 1846     		mov	r0, r3
 742 0014 07F11407 		add	r7, r7, #20
 743 0018 BD46     		mov	sp, r7
 744 001a 80BC     		pop	{r7}
 745 001c 7047     		bx	lr
 746              		.cfi_endproc
 747              	.LFE37:
 749 001e 00BF     		.section	.text._Z20execute_eeprom_writei,"ax",%progbits
 750              		.align	2
 751              		.global	_Z20execute_eeprom_writei
 752              		.thumb
 753              		.thumb_func
 755              	_Z20execute_eeprom_writei:
 756              	.LFB38:
 457:..//PHY/main.cpp **** 
 458:..//PHY/main.cpp **** void execute_eeprom_write(int flash_write){
 757              		.loc 2 458 0
 758              		.cfi_startproc
 759              		@ args = 0, pretend = 0, frame = 8
 760              		@ frame_needed = 1, uses_anonymous_args = 0
 761 0000 80B5     		push	{r7, lr}
 762              	.LCFI18:
 763              		.cfi_def_cfa_offset 8
 764 0002 82B0     		sub	sp, sp, #8
 765              	.LCFI19:
 766              		.cfi_def_cfa_offset 16
 767 0004 00AF     		add	r7, sp, #0
 768              		.cfi_offset 14, -4
 769              		.cfi_offset 7, -8
 770              	.LCFI20:
 771              		.cfi_def_cfa_register 7
 772 0006 7860     		str	r0, [r7, #4]
 459:..//PHY/main.cpp **** 	switch(flash_write){
 773              		.loc 2 459 0
 774 0008 7B68     		ldr	r3, [r7, #4]
 775 000a 03F1FF33 		add	r3, r3, #-1
 776 000e 032B     		cmp	r3, #3
 777 0010 3ED8     		bhi	.L34
 778 0012 01A2     		adr	r2, .L39
 779 0014 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 780              		.align	2
 781              	.L39:
 782 0018 29000000 		.word	.L35+1
 783 001c 43000000 		.word	.L36+1
 784 0020 5D000000 		.word	.L37+1
 785 0024 77000000 		.word	.L38+1
 786              	.L35:
 460:..//PHY/main.cpp **** 		case EEP_WRITE1:
 461:..//PHY/main.cpp **** 			// printf("\n write 1");
 462:..//PHY/main.cpp **** 			flash_write_now = 0;
 787              		.loc 2 462 0
 788 0028 40F20003 		movw	r3, #:lower16:flash_write_now
 789 002c C0F20003 		movt	r3, #:upper16:flash_write_now
 790 0030 4FF00002 		mov	r2, #0
 791 0034 1A60     		str	r2, [r3, #0]
 463:..//PHY/main.cpp **** 			write_config_data();		
 792              		.loc 2 463 0
 793 0036 40F20003 		movw	r3, #:lower16:_Z17write_config_datav
 794 003a C0F20003 		movt	r3, #:upper16:_Z17write_config_datav
 795 003e 9847     		blx	r3
 464:..//PHY/main.cpp **** 			break;
 796              		.loc 2 464 0
 797 0040 2DE0     		b	.L41
 798              	.L36:
 465:..//PHY/main.cpp **** 
 466:..//PHY/main.cpp **** 		case EEP_WRITE2:
 467:..//PHY/main.cpp **** 			// printf("\n write 2");
 468:..//PHY/main.cpp **** 			flash_write_now = 0;
 799              		.loc 2 468 0
 800 0042 40F20003 		movw	r3, #:lower16:flash_write_now
 801 0046 C0F20003 		movt	r3, #:upper16:flash_write_now
 802 004a 4FF00002 		mov	r2, #0
 803 004e 1A60     		str	r2, [r3, #0]
 469:..//PHY/main.cpp **** 			write_config_data_table_1();	
 804              		.loc 2 469 0
 805 0050 40F20003 		movw	r3, #:lower16:_Z25write_config_data_table_1v
 806 0054 C0F20003 		movt	r3, #:upper16:_Z25write_config_data_table_1v
 807 0058 9847     		blx	r3
 470:..//PHY/main.cpp **** 			break;
 808              		.loc 2 470 0
 809 005a 20E0     		b	.L41
 810              	.L37:
 471:..//PHY/main.cpp **** 
 472:..//PHY/main.cpp **** 		case EEP_WRITE3:
 473:..//PHY/main.cpp **** 			// printf("\n write 3");
 474:..//PHY/main.cpp **** 			flash_write_now = 0;
 811              		.loc 2 474 0
 812 005c 40F20003 		movw	r3, #:lower16:flash_write_now
 813 0060 C0F20003 		movt	r3, #:upper16:flash_write_now
 814 0064 4FF00002 		mov	r2, #0
 815 0068 1A60     		str	r2, [r3, #0]
 475:..//PHY/main.cpp **** 			write_config_data_table_2();	
 816              		.loc 2 475 0
 817 006a 40F20003 		movw	r3, #:lower16:_Z25write_config_data_table_2v
 818 006e C0F20003 		movt	r3, #:upper16:_Z25write_config_data_table_2v
 819 0072 9847     		blx	r3
 476:..//PHY/main.cpp **** 			break;
 820              		.loc 2 476 0
 821 0074 13E0     		b	.L41
 822              	.L38:
 477:..//PHY/main.cpp **** 			
 478:..//PHY/main.cpp **** 		case EEP_WRITE4:
 479:..//PHY/main.cpp **** 			flash_write_now = 0;
 823              		.loc 2 479 0
 824 0076 40F20003 		movw	r3, #:lower16:flash_write_now
 825 007a C0F20003 		movt	r3, #:upper16:flash_write_now
 826 007e 4FF00002 		mov	r2, #0
 827 0082 1A60     		str	r2, [r3, #0]
 480:..//PHY/main.cpp **** 			write_config_data_table_3();	
 828              		.loc 2 480 0
 829 0084 40F20003 		movw	r3, #:lower16:_Z25write_config_data_table_3v
 830 0088 C0F20003 		movt	r3, #:upper16:_Z25write_config_data_table_3v
 831 008c 9847     		blx	r3
 481:..//PHY/main.cpp **** 			break;
 832              		.loc 2 481 0
 833 008e 06E0     		b	.L41
 834              	.L34:
 482:..//PHY/main.cpp **** 		
 483:..//PHY/main.cpp **** 		default:
 484:..//PHY/main.cpp **** 			flash_write_now = 0;
 835              		.loc 2 484 0
 836 0090 40F20003 		movw	r3, #:lower16:flash_write_now
 837 0094 C0F20003 		movt	r3, #:upper16:flash_write_now
 838 0098 4FF00002 		mov	r2, #0
 839 009c 1A60     		str	r2, [r3, #0]
 840              	.L41:
 485:..//PHY/main.cpp **** 			break;
 486:..//PHY/main.cpp **** 	}
 487:..//PHY/main.cpp **** 
 488:..//PHY/main.cpp **** }
 841              		.loc 2 488 0
 842 009e 07F10807 		add	r7, r7, #8
 843 00a2 BD46     		mov	sp, r7
 844 00a4 80BD     		pop	{r7, pc}
 845              		.cfi_endproc
 846              	.LFE38:
 848 00a6 00BF     		.section	.text.apply_modbus_values,"ax",%progbits
 849              		.align	2
 850              		.global	apply_modbus_values
 851              		.thumb
 852              		.thumb_func
 854              	apply_modbus_values:
 855              	.LFB39:
 489:..//PHY/main.cpp **** 
 490:..//PHY/main.cpp **** 
 491:..//PHY/main.cpp **** #if 1
 492:..//PHY/main.cpp **** int apply_modbus_values(int modbus_cnt){
 856              		.loc 2 492 0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 8
 859              		@ frame_needed = 1, uses_anonymous_args = 0
 860              		@ link register save eliminated.
 861 0000 80B4     		push	{r7}
 862              	.LCFI21:
 863              		.cfi_def_cfa_offset 4
 864 0002 83B0     		sub	sp, sp, #12
 865              	.LCFI22:
 866              		.cfi_def_cfa_offset 16
 867 0004 00AF     		add	r7, sp, #0
 868              		.cfi_offset 7, -4
 869              	.LCFI23:
 870              		.cfi_def_cfa_register 7
 871 0006 7860     		str	r0, [r7, #4]
 493:..//PHY/main.cpp **** 	// if(holdingRegs_prev[modbus_cnt]!=holdingRegs[modbus_cnt]){
 494:..//PHY/main.cpp **** 		
 495:..//PHY/main.cpp **** 		switch(modbus_cnt){
 496:..//PHY/main.cpp **** 			case MB_MY_IP1:{
 497:..//PHY/main.cpp **** 				// MYIP_1 = (uint8_t)(holdingRegs[MB_MY_IP1]);
 498:..//PHY/main.cpp **** 				// flash_write_now = 1;		
 499:..//PHY/main.cpp **** 				break;
 500:..//PHY/main.cpp **** 			}	
 501:..//PHY/main.cpp **** 			case MB_MY_IP2:{
 502:..//PHY/main.cpp **** 				// MYIP_2 = (uint8_t)(holdingRegs[MB_MY_IP2]);
 503:..//PHY/main.cpp **** 				// flash_write_now = 1;
 504:..//PHY/main.cpp **** 				break;
 505:..//PHY/main.cpp **** 			}
 506:..//PHY/main.cpp **** 
 507:..//PHY/main.cpp **** 			case MB_MY_IP3:{
 508:..//PHY/main.cpp **** 				// MYIP_3 = (uint8_t)(holdingRegs[MB_MY_IP3]);
 509:..//PHY/main.cpp **** 				// flash_write_now = 1;				
 510:..//PHY/main.cpp **** 				break;
 511:..//PHY/main.cpp **** 			}
 512:..//PHY/main.cpp **** 		
 513:..//PHY/main.cpp **** 			case MB_MY_IP4:{
 514:..//PHY/main.cpp **** 				// MYIP_4 = (uint8_t)(holdingRegs[MB_MY_IP4]);
 515:..//PHY/main.cpp **** 				// flash_write_now = 1;
 516:..//PHY/main.cpp **** 			break;
 517:..//PHY/main.cpp **** 			}
 518:..//PHY/main.cpp **** 
 519:..//PHY/main.cpp **** 			case SM_DELAY_SET:{
 520:..//PHY/main.cpp **** 				// delay_val = (uint16_t)(holdingRegs[SM_DELAY_SET]);
 521:..//PHY/main.cpp **** 				// dt_set_delay(DELAY_LSM6DS3, delay_val);
 522:..//PHY/main.cpp **** 				// flash_write_now = 1;
 523:..//PHY/main.cpp **** 			break;	
 524:..//PHY/main.cpp **** 			}
 525:..//PHY/main.cpp **** 
 526:..//PHY/main.cpp **** 			case MB_READ_REQUEST:{
 527:..//PHY/main.cpp **** 				// addr_read = (uint8_t)(holdingRegs[MB_READ_REQUEST]);
 528:..//PHY/main.cpp **** 				// read_request = 1; 
 529:..//PHY/main.cpp **** 				
 530:..//PHY/main.cpp **** 			break;
 531:..//PHY/main.cpp **** 			}
 532:..//PHY/main.cpp **** 
 533:..//PHY/main.cpp **** 			case MB_WRITE_REQUEST:{
 534:..//PHY/main.cpp **** 				// addr_write = (uint8_t)(holdingRegs[MB_WRITE_REQUEST]);
 535:..//PHY/main.cpp **** 				// data_to_write = (uint8_t)(holdingRegs[MB_WRITE_REQUEST+ 1]);
 536:..//PHY/main.cpp **** 				// write_request = 1;
 537:..//PHY/main.cpp **** 
 538:..//PHY/main.cpp **** 			break;	
 539:..//PHY/main.cpp **** 			}
 540:..//PHY/main.cpp **** 
 541:..//PHY/main.cpp **** 			case MB_START_ACCEL_READ:{
 542:..//PHY/main.cpp **** 				// start_reading_acc = (uint8_t)(holdingRegs[MB_START_ACCEL_READ]);
 543:..//PHY/main.cpp **** 			break;
 544:..//PHY/main.cpp **** 			}
 545:..//PHY/main.cpp **** 
 546:..//PHY/main.cpp **** 			case MB_STOP_ACCEL_READ:{
 547:..//PHY/main.cpp **** 				// stop_reading_acc = (uint8_t)(holdingRegs[MB_STOP_ACCEL_READ]);
 548:..//PHY/main.cpp **** 			break;
 549:..//PHY/main.cpp **** 			}
 550:..//PHY/main.cpp **** 			
 551:..//PHY/main.cpp **** 		}
 552:..//PHY/main.cpp **** 	// }
 553:..//PHY/main.cpp **** 	return 1;
 872              		.loc 2 553 0
 873 0008 4FF00103 		mov	r3, #1
 554:..//PHY/main.cpp **** }
 874              		.loc 2 554 0
 875 000c 1846     		mov	r0, r3
 876 000e 07F10C07 		add	r7, r7, #12
 877 0012 BD46     		mov	sp, r7
 878 0014 80BC     		pop	{r7}
 879 0016 7047     		bx	lr
 880              		.cfi_endproc
 881              	.LFE39:
 883              		.section	.text.take_samples,"ax",%progbits
 884              		.align	2
 885              		.global	take_samples
 886              		.thumb
 887              		.thumb_func
 889              	take_samples:
 890              	.LFB40:
 555:..//PHY/main.cpp **** #endif
 556:..//PHY/main.cpp **** 	
 557:..//PHY/main.cpp **** extern "C"{
 558:..//PHY/main.cpp **** 	int take_samples(){
 891              		.loc 2 558 0
 892              		.cfi_startproc
 893              		@ args = 0, pretend = 0, frame = 0
 894              		@ frame_needed = 1, uses_anonymous_args = 0
 895              		@ link register save eliminated.
 896 0000 80B4     		push	{r7}
 897              	.LCFI24:
 898              		.cfi_def_cfa_offset 4
 899 0002 00AF     		add	r7, sp, #0
 900              		.cfi_offset 7, -4
 901              	.LCFI25:
 902              		.cfi_def_cfa_register 7
 559:..//PHY/main.cpp **** 		return 1;
 903              		.loc 2 559 0
 904 0004 4FF00103 		mov	r3, #1
 560:..//PHY/main.cpp **** 	}
 905              		.loc 2 560 0
 906 0008 1846     		mov	r0, r3
 907 000a BD46     		mov	sp, r7
 908 000c 80BC     		pop	{r7}
 909 000e 7047     		bx	lr
 910              		.cfi_endproc
 911              	.LFE40:
 913              		.section	.text.update_sm_operation_every_1ms,"ax",%progbits
 914              		.align	2
 915              		.global	update_sm_operation_every_1ms
 916              		.thumb
 917              		.thumb_func
 919              	update_sm_operation_every_1ms:
 920              	.LFB41:
 561:..//PHY/main.cpp **** 
 562:..//PHY/main.cpp **** 	int update_sm_operation_every_1ms(){
 921              		.loc 2 562 0
 922              		.cfi_startproc
 923              		@ args = 0, pretend = 0, frame = 0
 924              		@ frame_needed = 1, uses_anonymous_args = 0
 925 0000 80B5     		push	{r7, lr}
 926              	.LCFI26:
 927              		.cfi_def_cfa_offset 8
 928 0002 00AF     		add	r7, sp, #0
 929              		.cfi_offset 14, -4
 930              		.cfi_offset 7, -8
 931              	.LCFI27:
 932              		.cfi_def_cfa_register 7
 563:..//PHY/main.cpp **** 		if(SM_START == sm_operation.SM_started()){
 933              		.loc 2 563 0
 934 0004 40F20000 		movw	r0, #:lower16:sm_operation
 935 0008 C0F20000 		movt	r0, #:upper16:sm_operation
 936 000c 40F20003 		movw	r3, #:lower16:_ZN13State_Machine10SM_startedEv
 937 0010 C0F20003 		movt	r3, #:upper16:_ZN13State_Machine10SM_startedEv
 938 0014 9847     		blx	r3
 939 0016 0346     		mov	r3, r0
 940 0018 012B     		cmp	r3, #1
 941 001a 14BF     		ite	ne
 942 001c 0023     		movne	r3, #0
 943 001e 0123     		moveq	r3, #1
 944 0020 DBB2     		uxtb	r3, r3
 945 0022 002B     		cmp	r3, #0
 946 0024 08D0     		beq	.L49
 564:..//PHY/main.cpp **** 			sm_operation.update();
 947              		.loc 2 564 0
 948 0026 40F20000 		movw	r0, #:lower16:sm_operation
 949 002a C0F20000 		movt	r0, #:upper16:sm_operation
 950 002e 40F20003 		movw	r3, #:lower16:_ZN12SM_OPERATION6updateEv
 951 0032 C0F20003 		movt	r3, #:upper16:_ZN12SM_OPERATION6updateEv
 952 0036 9847     		blx	r3
 953              	.L49:
 565:..//PHY/main.cpp **** 		}
 566:..//PHY/main.cpp **** 	}
 954              		.loc 2 566 0
 955 0038 80BD     		pop	{r7, pc}
 956              		.cfi_endproc
 957              	.LFE41:
 959 003a 00BF     		.section	.text._Z19start_state_machinev,"ax",%progbits
 960              		.align	2
 961              		.global	_Z19start_state_machinev
 962              		.thumb
 963              		.thumb_func
 965              	_Z19start_state_machinev:
 966              	.LFB42:
 567:..//PHY/main.cpp **** }
 568:..//PHY/main.cpp **** 
 569:..//PHY/main.cpp **** 
 570:..//PHY/main.cpp **** 
 571:..//PHY/main.cpp **** 
 572:..//PHY/main.cpp **** 
 573:..//PHY/main.cpp **** // call this to start state machine
 574:..//PHY/main.cpp **** int start_state_machine(){
 967              		.loc 2 574 0
 968              		.cfi_startproc
 969              		@ args = 0, pretend = 0, frame = 0
 970              		@ frame_needed = 1, uses_anonymous_args = 0
 971 0000 80B5     		push	{r7, lr}
 972              	.LCFI28:
 973              		.cfi_def_cfa_offset 8
 974 0002 00AF     		add	r7, sp, #0
 975              		.cfi_offset 14, -4
 976              		.cfi_offset 7, -8
 977              	.LCFI29:
 978              		.cfi_def_cfa_register 7
 575:..//PHY/main.cpp **** 	if(SM_START != sm_operation.SM_started()){
 979              		.loc 2 575 0
 980 0004 40F20000 		movw	r0, #:lower16:sm_operation
 981 0008 C0F20000 		movt	r0, #:upper16:sm_operation
 982 000c 40F20003 		movw	r3, #:lower16:_ZN13State_Machine10SM_startedEv
 983 0010 C0F20003 		movt	r3, #:upper16:_ZN13State_Machine10SM_startedEv
 984 0014 9847     		blx	r3
 985 0016 0346     		mov	r3, r0
 986 0018 012B     		cmp	r3, #1
 987 001a 0CBF     		ite	eq
 988 001c 0023     		moveq	r3, #0
 989 001e 0123     		movne	r3, #1
 990 0020 DBB2     		uxtb	r3, r3
 991 0022 002B     		cmp	r3, #0
 992 0024 1AD0     		beq	.L53
 576:..//PHY/main.cpp **** 		sm_operation.SM_start();
 993              		.loc 2 576 0
 994 0026 40F20000 		movw	r0, #:lower16:sm_operation
 995 002a C0F20000 		movt	r0, #:upper16:sm_operation
 996 002e 40F20003 		movw	r3, #:lower16:_ZN13State_Machine8SM_startEv
 997 0032 C0F20003 		movt	r3, #:upper16:_ZN13State_Machine8SM_startEv
 998 0036 9847     		blx	r3
 577:..//PHY/main.cpp **** 		io_set_output(GREEN_LED,1);
 999              		.loc 2 577 0
 1000 0038 4FF00500 		mov	r0, #5
 1001 003c 4FF00101 		mov	r1, #1
 1002 0040 40F20003 		movw	r3, #:lower16:io_set_output
 1003 0044 C0F20003 		movt	r3, #:upper16:io_set_output
 1004 0048 9847     		blx	r3
 578:..//PHY/main.cpp **** 		io_set_output(YELLOW_LED,0);
 1005              		.loc 2 578 0
 1006 004a 4FF00600 		mov	r0, #6
 1007 004e 4FF00001 		mov	r1, #0
 1008 0052 40F20003 		movw	r3, #:lower16:io_set_output
 1009 0056 C0F20003 		movt	r3, #:upper16:io_set_output
 1010 005a 9847     		blx	r3
 1011              	.L53:
 579:..//PHY/main.cpp **** 	}
 580:..//PHY/main.cpp **** }
 1012              		.loc 2 580 0
 1013 005c 80BD     		pop	{r7, pc}
 1014              		.cfi_endproc
 1015              	.LFE42:
 1017 005e 00BF     		.section	.text._Z18stop_state_machinev,"ax",%progbits
 1018              		.align	2
 1019              		.global	_Z18stop_state_machinev
 1020              		.thumb
 1021              		.thumb_func
 1023              	_Z18stop_state_machinev:
 1024              	.LFB43:
 581:..//PHY/main.cpp **** 
 582:..//PHY/main.cpp **** int stop_state_machine(){
 1025              		.loc 2 582 0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 0
 1028              		@ frame_needed = 1, uses_anonymous_args = 0
 1029 0000 80B5     		push	{r7, lr}
 1030              	.LCFI30:
 1031              		.cfi_def_cfa_offset 8
 1032 0002 00AF     		add	r7, sp, #0
 1033              		.cfi_offset 14, -4
 1034              		.cfi_offset 7, -8
 1035              	.LCFI31:
 1036              		.cfi_def_cfa_register 7
 583:..//PHY/main.cpp **** 	if(SM_START == sm_operation.SM_started()){
 1037              		.loc 2 583 0
 1038 0004 40F20000 		movw	r0, #:lower16:sm_operation
 1039 0008 C0F20000 		movt	r0, #:upper16:sm_operation
 1040 000c 40F20003 		movw	r3, #:lower16:_ZN13State_Machine10SM_startedEv
 1041 0010 C0F20003 		movt	r3, #:upper16:_ZN13State_Machine10SM_startedEv
 1042 0014 9847     		blx	r3
 1043 0016 0346     		mov	r3, r0
 1044 0018 012B     		cmp	r3, #1
 1045 001a 14BF     		ite	ne
 1046 001c 0023     		movne	r3, #0
 1047 001e 0123     		moveq	r3, #1
 1048 0020 DBB2     		uxtb	r3, r3
 1049 0022 002B     		cmp	r3, #0
 1050 0024 1AD0     		beq	.L57
 584:..//PHY/main.cpp **** 		sm_operation.stop_now();
 1051              		.loc 2 584 0
 1052 0026 40F20000 		movw	r0, #:lower16:sm_operation
 1053 002a C0F20000 		movt	r0, #:upper16:sm_operation
 1054 002e 40F20003 		movw	r3, #:lower16:_ZN12SM_OPERATION8stop_nowEv
 1055 0032 C0F20003 		movt	r3, #:upper16:_ZN12SM_OPERATION8stop_nowEv
 1056 0036 9847     		blx	r3
 585:..//PHY/main.cpp **** 		io_set_output(GREEN_LED,0);
 1057              		.loc 2 585 0
 1058 0038 4FF00500 		mov	r0, #5
 1059 003c 4FF00001 		mov	r1, #0
 1060 0040 40F20003 		movw	r3, #:lower16:io_set_output
 1061 0044 C0F20003 		movt	r3, #:upper16:io_set_output
 1062 0048 9847     		blx	r3
 586:..//PHY/main.cpp **** 		io_set_output(YELLOW_LED,1);
 1063              		.loc 2 586 0
 1064 004a 4FF00600 		mov	r0, #6
 1065 004e 4FF00101 		mov	r1, #1
 1066 0052 40F20003 		movw	r3, #:lower16:io_set_output
 1067 0056 C0F20003 		movt	r3, #:upper16:io_set_output
 1068 005a 9847     		blx	r3
 1069              	.L57:
 587:..//PHY/main.cpp **** 	}
 588:..//PHY/main.cpp **** }...
 1070              		.loc 2 588 0
 1071 005c 80BD     		pop	{r7, pc}
 1072              		.cfi_endproc
 1073              	.LFE43:
 1075 005e 00BF     		.section	.text._ZN12SM_OPERATIOND1Ev,"axG",%progbits,_ZN12SM_OPERATIOND1Ev,comdat
 1076              		.align	2
 1077              		.weak	_ZN12SM_OPERATIOND1Ev
 1078              		.thumb
 1079              		.thumb_func
 1081              	_ZN12SM_OPERATIOND1Ev:
 1082              	.LFB47:
 1083              		.file 3 "..//PHY/state_machines/SM_Operation.h"
   1:..//PHY/state_machines/SM_Operation.h **** #ifndef SM_OPERATION_H_
   2:..//PHY/state_machines/SM_Operation.h **** #define SM_OPERATION_H_
   3:..//PHY/state_machines/SM_Operation.h **** 
   4:..//PHY/state_machines/SM_Operation.h **** 
   5:..//PHY/state_machines/SM_Operation.h **** #include "state_machine.h"
   6:..//PHY/state_machines/SM_Operation.h **** #include "lpc_types.h"
   7:..//PHY/state_machines/SM_Operation.h **** 
   8:..//PHY/state_machines/SM_Operation.h **** 
   9:..//PHY/state_machines/SM_Operation.h **** extern "C"{
  10:..//PHY/state_machines/SM_Operation.h **** 	#include "input_output.h"
  11:..//PHY/state_machines/SM_Operation.h **** 	// #include "multi-steppers.h"
  12:..//PHY/state_machines/SM_Operation.h **** }
  13:..//PHY/state_machines/SM_Operation.h **** 
  14:..//PHY/state_machines/SM_Operation.h **** class SM_OPERATION: public State_Machine{
 1084              		.loc 3 14 0
 1085              		.cfi_startproc
 1086              		@ args = 0, pretend = 0, frame = 8
 1087              		@ frame_needed = 1, uses_anonymous_args = 0
 1088 0000 80B5     		push	{r7, lr}
 1089              	.LCFI32:
 1090              		.cfi_def_cfa_offset 8
 1091 0002 82B0     		sub	sp, sp, #8
 1092              	.LCFI33:
 1093              		.cfi_def_cfa_offset 16
 1094 0004 00AF     		add	r7, sp, #0
 1095              		.cfi_offset 14, -4
 1096              		.cfi_offset 7, -8
 1097              	.LCFI34:
 1098              		.cfi_def_cfa_register 7
 1099 0006 7860     		str	r0, [r7, #4]
 1100              		.loc 3 14 0
 1101 0008 7B68     		ldr	r3, [r7, #4]
 1102 000a 0D4A     		ldr	r2, .L62
 1103 000c 1A60     		str	r2, [r3, #0]
 1104 000e 7B68     		ldr	r3, [r7, #4]
 1105 0010 1846     		mov	r0, r3
 1106 0012 40F20003 		movw	r3, #:lower16:_ZN13State_MachineD2Ev
 1107 0016 C0F20003 		movt	r3, #:upper16:_ZN13State_MachineD2Ev
 1108 001a 9847     		blx	r3
 1109 001c 4FF00003 		mov	r3, #0
 1110 0020 DBB2     		uxtb	r3, r3
 1111 0022 002B     		cmp	r3, #0
 1112 0024 05D0     		beq	.L60
 1113 0026 7868     		ldr	r0, [r7, #4]
 1114 0028 40F20003 		movw	r3, #:lower16:_ZdlPv
 1115 002c C0F20003 		movt	r3, #:upper16:_ZdlPv
 1116 0030 9847     		blx	r3
 1117              	.L60:
 1118 0032 7B68     		ldr	r3, [r7, #4]
 1119 0034 1846     		mov	r0, r3
 1120 0036 07F10807 		add	r7, r7, #8
 1121 003a BD46     		mov	sp, r7
 1122 003c 80BD     		pop	{r7, pc}
 1123              	.L63:
 1124 003e 00BF     		.align	2
 1125              	.L62:
 1126 0040 08000000 		.word	_ZTV12SM_OPERATION+8
 1127              		.cfi_endproc
 1128              	.LFE47:
 1130              		.section	.text._Z41__static_initialization_and_destruction_0ii,"ax",%progbits
 1131              		.align	2
 1132              		.thumb
 1133              		.thumb_func
 1135              	_Z41__static_initialization_and_destruction_0ii:
 1136              	.LFB44:
 1137              		.loc 2 588 0
 1138              		.cfi_startproc
 1139              		@ args = 0, pretend = 0, frame = 8
 1140              		@ frame_needed = 1, uses_anonymous_args = 0
 1141 0000 80B5     		push	{r7, lr}
 1142              	.LCFI35:
 1143              		.cfi_def_cfa_offset 8
 1144 0002 82B0     		sub	sp, sp, #8
 1145              	.LCFI36:
 1146              		.cfi_def_cfa_offset 16
 1147 0004 00AF     		add	r7, sp, #0
 1148              		.cfi_offset 14, -4
 1149              		.cfi_offset 7, -8
 1150              	.LCFI37:
 1151              		.cfi_def_cfa_register 7
 1152 0006 7860     		str	r0, [r7, #4]
 1153 0008 3960     		str	r1, [r7, #0]
 1154              		.loc 2 588 0
 1155 000a 7B68     		ldr	r3, [r7, #4]
 1156 000c 012B     		cmp	r3, #1
 1157 000e 1FD1     		bne	.L66
 1158 0010 3A68     		ldr	r2, [r7, #0]
 1159 0012 4FF6FF73 		movw	r3, #65535
 1160 0016 9A42     		cmp	r2, r3
 1161 0018 1AD1     		bne	.L66
 1162              		.loc 2 92 0
 1163 001a 40F20000 		movw	r0, #:lower16:sm_operation
 1164 001e C0F20000 		movt	r0, #:upper16:sm_operation
 1165 0022 40F20003 		movw	r3, #:lower16:_ZN12SM_OPERATIONC1Ev
 1166 0026 C0F20003 		movt	r3, #:upper16:_ZN12SM_OPERATIONC1Ev
 1167 002a 9847     		blx	r3
 1168 002c 40F20003 		movw	r3, #:lower16:_ZN12SM_OPERATIOND1Ev
 1169 0030 C0F20003 		movt	r3, #:upper16:_ZN12SM_OPERATIOND1Ev
 1170 0034 40F20000 		movw	r0, #:lower16:sm_operation
 1171 0038 C0F20000 		movt	r0, #:upper16:sm_operation
 1172 003c 1946     		mov	r1, r3
 1173 003e 40F20002 		movw	r2, #:lower16:__dso_handle
 1174 0042 C0F20002 		movt	r2, #:upper16:__dso_handle
 1175 0046 40F20003 		movw	r3, #:lower16:__aeabi_atexit
 1176 004a C0F20003 		movt	r3, #:upper16:__aeabi_atexit
 1177 004e 9847     		blx	r3
 1178              	.L66:
 1179              		.loc 2 588 0
 1180 0050 07F10807 		add	r7, r7, #8
 1181 0054 BD46     		mov	sp, r7
 1182 0056 80BD     		pop	{r7, pc}
 1183              		.cfi_endproc
 1184              	.LFE44:
 1186              		.section	.text._GLOBAL__I_delay_timer_32,"ax",%progbits
 1187              		.align	2
 1188              		.thumb
 1189              		.thumb_func
 1191              	_GLOBAL__I_delay_timer_32:
 1192              	.LFB49:
 1193              		.loc 2 588 0
 1194              		.cfi_startproc
 1195              		@ args = 0, pretend = 0, frame = 0
 1196              		@ frame_needed = 1, uses_anonymous_args = 0
 1197 0000 80B5     		push	{r7, lr}
 1198              	.LCFI38:
 1199              		.cfi_def_cfa_offset 8
 1200 0002 00AF     		add	r7, sp, #0
 1201              		.cfi_offset 14, -4
 1202              		.cfi_offset 7, -8
 1203              	.LCFI39:
 1204              		.cfi_def_cfa_register 7
 1205              		.loc 2 588 0
 1206 0004 4FF00100 		mov	r0, #1
 1207 0008 4FF6FF71 		movw	r1, #65535
 1208 000c 40F20003 		movw	r3, #:lower16:_Z41__static_initialization_and_destruction_0ii
 1209 0010 C0F20003 		movt	r3, #:upper16:_Z41__static_initialization_and_destruction_0ii
 1210 0014 9847     		blx	r3
 1211 0016 80BD     		pop	{r7, pc}
 1212              		.cfi_endproc
 1213              	.LFE49:
 1215              		.section	.init_array,"aw",%init_array
 1216              		.align	2
 1217 0000 00000000 		.word	_GLOBAL__I_delay_timer_32(target1)
 1218              		.section	.rodata._ZZ4mainE4C.29,"a",%progbits
 1219              		.align	2
 1222              	_ZZ4mainE4C.29:
 1223 0000 B0040000 		.word	1200
 1224 0004 80250000 		.word	9600
 1225 0008 004B0000 		.word	19200
 1226 000c 00960000 		.word	38400
 1227 0010 00E10000 		.word	57600
 1228              		.text
 1229              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 main.cpp
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:24     .text._ZN13State_MachineD2Ev:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:29     .text._ZN13State_MachineD2Ev:00000000 _ZN13State_MachineD2Ev
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:69     .text._ZN13State_MachineD2Ev:00000030 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:78     .bss.delay_timer_32:00000000 delay_timer_32
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:75     .bss.delay_timer_32:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:85     .bss.modbus_retVal:00000000 modbus_retVal
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:82     .bss.modbus_retVal:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:92     .bss.holdingRegs:00000000 holdingRegs
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:89     .bss.holdingRegs:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:99     .bss.holdingRegs_prev:00000000 holdingRegs_prev
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:96     .bss.holdingRegs_prev:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:106    .bss.slave_id_select:00000000 slave_id_select
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:103    .bss.slave_id_select:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:113    .bss.baud_rate_select:00000000 baud_rate_select
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:110    .bss.baud_rate_select:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:120    .bss.parity_bit:00000000 parity_bit
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:117    .bss.parity_bit:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:127    .data.stop_bit:00000000 stop_bit
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:124    .data.stop_bit:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:134    .data.input_rise_debounce_time:00000000 input_rise_debounce_time
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:131    .data.input_rise_debounce_time:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:141    .data.input_fall_debounce_time:00000000 input_fall_debounce_time
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:138    .data.input_fall_debounce_time:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:148    .bss.baud_value:00000000 baud_value
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:145    .bss.baud_value:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:155    .bss.flash_write_allowed:00000000 flash_write_allowed
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:152    .bss.flash_write_allowed:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:162    .bss.flash_write_now:00000000 flash_write_now
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:159    .bss.flash_write_now:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:168    .bss.fw_major_version:00000000 fw_major_version
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:169    .bss.fw_major_version:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:174    .bss.fw_minor_version:00000000 fw_minor_version
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:175    .bss.fw_minor_version:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:181    .bss.sm_operation:00000000 sm_operation
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:178    .bss.sm_operation:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:184    .rodata:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:185    .rodata:00000000 .LC0
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:188    .rodata:00000024 .LC1
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:191    .rodata:00000038 .LC2
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:194    .rodata:00000050 .LC3
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:197    .text.main:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:202    .text.main:00000000 main
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1222   .rodata._ZZ4mainE4C.29:00000000 _ZZ4mainE4C.29
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:755    .text._Z20execute_eeprom_writei:00000000 _Z20execute_eeprom_writei
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:579    .text.main:00000394 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:587    .text._Z13Check_RX_DataPt:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:592    .text._Z13Check_RX_DataPt:00000000 _Z13Check_RX_DataPt
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:637    .text._Z24modbus_exception_handleri:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:642    .text._Z24modbus_exception_handleri:00000000 _Z24modbus_exception_handleri
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:672    .text._Z40set_holding_registers_values_accel_tableii:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:677    .text._Z40set_holding_registers_values_accel_tableii:00000000 _Z40set_holding_registers_values_accel_tableii
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:710    .text.set_holding_registers_values:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:715    .text.set_holding_registers_values:00000000 set_holding_registers_values
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:750    .text._Z20execute_eeprom_writei:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:782    .text._Z20execute_eeprom_writei:00000018 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:788    .text._Z20execute_eeprom_writei:00000028 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:849    .text.apply_modbus_values:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:854    .text.apply_modbus_values:00000000 apply_modbus_values
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:884    .text.take_samples:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:889    .text.take_samples:00000000 take_samples
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:914    .text.update_sm_operation_every_1ms:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:919    .text.update_sm_operation_every_1ms:00000000 update_sm_operation_every_1ms
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:960    .text._Z19start_state_machinev:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:965    .text._Z19start_state_machinev:00000000 _Z19start_state_machinev
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1018   .text._Z18stop_state_machinev:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1023   .text._Z18stop_state_machinev:00000000 _Z18stop_state_machinev
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1076   .text._ZN12SM_OPERATIOND1Ev:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1081   .text._ZN12SM_OPERATIOND1Ev:00000000 _ZN12SM_OPERATIOND1Ev
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1126   .text._ZN12SM_OPERATIOND1Ev:00000040 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1131   .text._Z41__static_initialization_and_destruction_0ii:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1135   .text._Z41__static_initialization_and_destruction_0ii:00000000 _Z41__static_initialization_and_destruction_0ii
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1187   .text._GLOBAL__I_delay_timer_32:00000000 $t
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1191   .text._GLOBAL__I_delay_timer_32:00000000 _GLOBAL__I_delay_timer_32
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1216   .init_array:00000000 $d
C:\Users\ACURAP~1\AppData\Local\Temp\ccrTWjHE.s:1219   .rodata._ZZ4mainE4C.29:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
_ZdlPv
_ZTV13State_Machine
debug_frmwrk_init
SystemCoreClock
printf
_Z12dt_set_delayim
_Z19read_config_versionRhS_
_Z19config_set_defaultshh
_Z16read_config_datav
usbSerialInit
modbusUSB
_Z16modbus_configureP8modbus_tlijPj
_Z7dt_initv
stepper_init
init_timers
stepper_update_freq
io_init
iap_init
reset_timer
start_timers
_Z8dt_reseti
io_set_output
input_rise_flag
stepper_set_new_profile
stepper_set_final_pos
input_fall_flag
stepper_stop_motor
modbus_update
_Z12dt_is_timeupi
_Z17write_config_datav
_Z25write_config_data_table_1v
_Z25write_config_data_table_2v
_Z25write_config_data_table_3v
_ZN13State_Machine10SM_startedEv
_ZN12SM_OPERATION6updateEv
_ZN13State_Machine8SM_startEv
_ZN12SM_OPERATION8stop_nowEv
_ZTV12SM_OPERATION
_ZN12SM_OPERATIONC1Ev
__dso_handle
__aeabi_atexit
